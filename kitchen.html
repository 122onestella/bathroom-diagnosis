<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ã‚­ãƒƒãƒãƒ³ãƒ»ã‚»ãƒ«ãƒ•è¨ºæ–­</title>

  <style>
    :root{
      /* ===== Font sizes (responsive) ===== */
      --fs-title: clamp(40px, 7.2vw, 92px);
      --fs-subtitle: clamp(18px, 3.2vw, 44px);
      --fs-start-desc: clamp(18px, 3.2vw, 40px);
      --fs-btn: clamp(22px, 4.2vw, 56px);

      --fs-q: clamp(22px, 4.4vw, 62px);
      --fs-opt: clamp(18px, 3.6vw, 48px);
      --fs-chip: clamp(14px, 2.8vw, 34px);

      --fs-result-title: clamp(22px, 4.2vw, 54px);
      --fs-result-product: clamp(26px, 5.0vw, 68px);
      --fs-result-desc: clamp(18px, 3.6vw, 46px);

      /* ===== Colors (same as bathroom) ===== */
      --bg1: #cfe9ff;
      --bg2: #ffd7f0;
      --paper: #fff6b8;
      --paper2:#fffdf7;
      --ink: #4a2c0f;
      --ink-soft:#6b4a2b;
      --accent:#7aa37a;
      --accent2:#c79b6a;
      --card:#ffffff;
      --line:#eadfd3;
      --shadow: 0 18px 50px rgba(0,0,0,.18);
      --shadow2: 0 10px 26px rgba(0,0,0,.12);
      --radius: 24px;
    }

    html, body { height:100%; width:100%; }
    *{ box-sizing:border-box; }

    body{
      margin:0; padding:0;
      font-family: "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(900px 600px at 25% 15%, rgba(255,255,255,.65), transparent 60%),
        radial-gradient(1000px 700px at 85% 25%, rgba(255,255,255,.55), transparent 62%),
        linear-gradient(135deg, var(--bg1) 0%, #e7f4ff 35%, #fff7fb 60%, var(--bg2) 100%);
      color: var(--ink);
      overflow-x:hidden;
    }

    .app-container{
      width:100%;
      min-height:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding: 18px;
    }

    .content-wrapper{
      width:100%;
      max-width:1080px;
      background: rgba(255,255,255,.72);
      border: 1px solid rgba(234,223,211,.7);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 28px 18px 34px;
      margin: 14px 0;
      backdrop-filter: blur(6px);
    }

    .header{
      text-align:center;
      margin-bottom: 18px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 10px;
    }

    .title{
      font-size: var(--fs-title);
      font-weight: 900;
      line-height: 1.08;
      color: var(--ink);
      padding: 22px 34px;
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(245,239,232,.92));
      box-shadow: var(--shadow2);
      text-shadow: 0 2px 0 rgba(255,255,255,.85);
      display:inline-block;
      letter-spacing: .02em;
      text-align:center;
      width: min(92%, 900px);
    }

    .subtitle{
      font-size: var(--fs-subtitle);
      color: var(--ink-soft);
      margin: 0;
      opacity: .9;
      line-height: 1.35;
      text-align:center;
      width: min(92%, 900px);
    }

    /* result screenã§ã¯ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«éè¡¨ç¤º */
    #resultScreen .header .subtitle{ display:none; }

    .start-screen{
      text-align:center;
      padding: 10px 10px 4px;
      background: linear-gradient(180deg, rgba(255,246,184,.92), rgba(255,246,184,.72));
      border: 1px solid rgba(234,223,211,.65);
      border-radius: 22px;
      box-shadow: 0 10px 24px rgba(0,0,0,.08);
    }

    #questionScreen{
      background: linear-gradient(180deg, rgba(255,246,184,.92), rgba(255,246,184,.72));
      border: 1px solid rgba(234,223,211,.65);
      border-radius: 22px;
      box-shadow: 0 10px 24px rgba(0,0,0,.08);
      padding: 10px 10px 4px;
    }

    .start-icon{
      font-size: clamp(56px, 8vw, 96px);
      margin: 14px 0 12px;
      animation: floaty 2.3s ease-in-out infinite;
    }

    @keyframes floaty{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-10px); }
    }

    .start-description{
      font-size: var(--fs-start-desc);
      color: #5a4633;
      margin: 0 0 18px;
      line-height: 1.55;
      padding: 0 10px;
    }

    .btn{
      background: linear-gradient(135deg, rgba(122,163,122,.95) 0%, rgba(199,155,106,.92) 100%);
      color: #2f2216;
      border: none;
      padding: 18px 28px;
      font-size: var(--fs-btn);
      font-weight: 900;
      border-radius: 18px;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
      box-shadow: 0 10px 26px rgba(122,163,122,.22);
      width: 100%;
      max-width: 520px;
      white-space: pre-line;
      line-height: 1.15;
      letter-spacing: .02em;
      margin: 0 auto 14px;
    }
    .btn:hover{ transform: translateY(-2px); filter: brightness(1.02); box-shadow: 0 14px 32px rgba(122,163,122,.28); }
    .btn:active{ transform: translateY(0); }

    .progress-bar{
      width:100%;
      height: 12px;
      background: rgba(234,223,211,.9);
      border-radius: 999px;
      overflow:hidden;
      margin: 6px 0 18px;
    }
    .progress-fill{
      height: 100%;
      background: linear-gradient(90deg, rgba(122,163,122,.95) 0%, rgba(199,155,106,.95) 100%);
      transition: width .35s ease;
      border-radius: 999px;
    }

    .question-container{ margin-bottom: 12px; }

    .question-number{
      display:inline-block;
      background: linear-gradient(135deg, rgba(255,214,141,.95) 0%, rgba(255,184,107,.92) 100%);
      color:#4a2c0f;
      padding: 10px 18px;
      border-radius: 999px;
      font-size: var(--fs-chip);
      font-weight: 900;
      margin-bottom: 12px;
      letter-spacing: .03em;
    }

    .question-text{
      font-size: var(--fs-q);
      font-weight: 900;
      color: #4a2c0f;
      margin: 0 0 18px;
      line-height: 1.25;
      letter-spacing: .01em;
    }

    .options-grid{
      display:flex;
      flex-direction:column;
      gap: 14px;
      margin-bottom: 10px;
    }

    .option-card{
      background: rgba(255,255,255,.92);
      border: 3px solid rgba(234,223,211,.95);
      border-radius: 18px;
      padding: 18px 14px;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      text-align:center;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-height: 110px;
      box-shadow: 0 6px 16px rgba(0,0,0,.06);
    }
    .option-card:hover{
      transform: translateY(-3px);
      border-color: rgba(122,163,122,.65);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
    }
    .option-card.selected{
      border-color: rgba(122,163,122,.95);
      background: linear-gradient(135deg, rgba(122,163,122,.10) 0%, rgba(199,155,106,.10) 100%);
      box-shadow: 0 10px 22px rgba(122,163,122,.14);
    }

    .option-icon{ font-size: clamp(34px, 6vw, 64px); margin-bottom: 8px; }
    .option-text{
      font-size: var(--fs-opt);
      font-weight: 800;
      color: #2f2216;
      line-height: 1.2;
      white-space: pre-line;
      text-align:center;
    }

    .navigation-buttons{
      display:flex;
      justify-content:space-between;
      gap: 12px;
      margin-top: 16px;
      align-items:stretch;
    }

    .btn-secondary{
      background: rgba(255,246,184,.95);
      color: #4a2c0f;
      padding: 16px 16px;
      border: 2px solid rgba(234,223,211,.85);
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      transition: filter .2s ease;
      flex:1;
      white-space: nowrap;
    }
    .btn-secondary:hover{ filter: brightness(.98); }
    .btn-secondary:disabled{ opacity:.55; cursor:not-allowed; }

    /* ===== Result ===== */
    .result-container{ text-align:center; }
    .result-icon{ font-size: clamp(56px, 8vw, 96px); margin-bottom: 14px; animation: pop .6s ease; }
    @keyframes pop{ 0%{transform:scale(0)} 70%{transform:scale(1.08)} 100%{transform:scale(1)} }

    .result-title{
      font-size: var(--fs-result-title);
      font-weight: 900;
      margin: 0 0 14px;
      color:#0b2a66;
      letter-spacing: .02em;
    }

    .result-loading{
      font-size: clamp(18px, 3.8vw, 44px);
      font-weight: 900;
      color: rgba(12, 86, 163, .95);
      margin: 34px 0;
      animation: pulse 1.4s ease-in-out infinite;
    }
    @keyframes pulse{ 0%,100%{opacity:1} 50%{opacity:.5} }

    .result-product{
      font-size: var(--fs-result-product);
      font-weight: 950;
      color: #0c56a3;
      -webkit-text-stroke: 2px rgba(255,255,255,.95);
      text-shadow:
        0 2px 0 rgba(255,255,255,.85),
        0 8px 20px rgba(0,0,0,.10);
      margin: 0 0 14px;
      opacity:0;
      animation: fadeUp .6s ease forwards;
    }
    @keyframes fadeUp{ from{opacity:0; transform: translateY(18px)} to{opacity:1; transform:none} }

    .result-images{
      display:flex;
      flex-direction:column;
      gap: 14px;
      align-items:center;
      opacity:0;
      animation: fadeUp .6s ease .15s forwards;
    }
    .image-wrapper{ position:relative; display:inline-block; width:100%; }
    .result-image{
      width:100%;
      max-width: 560px;
      height:auto;
      border-radius: 18px;
      margin: 8px auto;
      box-shadow: 0 14px 34px rgba(0,0,0,.14);
      display:block;
    }

    .result-description{
      font-size: var(--fs-result-desc);
      color: #3c2b1c;
      line-height: 1.55;
      margin: 16px 0 18px;
      text-align:left;
      background: linear-gradient(135deg, rgba(255,246,184,.55) 0%, rgba(255,246,184,.35) 100%);
      padding: 18px;
      border-radius: 16px;
      border: 1px solid rgba(234,223,211,.9);
    }

    /* ===== CTA block ===== */
    .cta{
      text-align:left;
      margin: 14px 0 10px;
      background: rgba(255,255,255,.86);
      border: 2px dashed rgba(12, 86, 163, .28);
      border-radius: 18px;
      padding: 18px;
      box-shadow: 0 10px 24px rgba(0,0,0,.06);
    }
    .cta h3{
      margin: 0 0 10px;
      font-size: clamp(20px, 4.0vw, 44px);
      font-weight: 950;
      color: #0b2a66;
      line-height: 1.2;
    }
    .cta p{
      margin: 0 0 12px;
      font-size: clamp(16px, 3.2vw, 38px);
      line-height: 1.55;
      color: #3c2b1c;
    }
    .cta ul{
      margin: 0 0 12px 1.2em;
      padding: 0;
      font-size: clamp(16px, 3.2vw, 38px);
      line-height: 1.55;
      color: #3c2b1c;
    }
    .cta .mini{
      font-size: clamp(14px, 2.8vw, 32px);
      color: rgba(60,43,28,.85);
      margin-top: 6px;
    }

    .btn-line{
      background: linear-gradient(135deg, rgba(8,191,84,.95) 0%, rgba(8,191,84,.75) 100%);
      color: #fff;
      border: none;
      padding: 16px 18px;
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      width:100%;
      max-width: 520px;
      white-space: pre-line;
      box-shadow: 0 10px 26px rgba(8,191,84,.18);
      margin: 0 auto 12px;
      display:block;
    }
    .btn-line:hover{ filter: brightness(1.02); }

    .btn-pay{
      background: linear-gradient(135deg, rgba(199,155,106,.98) 0%, rgba(12, 86, 163, .88) 100%);
      color: #fff;
      border:none;
      padding: 16px 18px;
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      width:100%;
      max-width: 520px;
      white-space: pre-line;
      box-shadow: 0 10px 26px rgba(12, 86, 163, .18);
      margin: 0 auto 8px;
      display:block;
    }
    .btn-pay:hover{ filter: brightness(1.02); }

    .btn-restart{
      background: linear-gradient(135deg, rgba(12, 86, 163, .95) 0%, rgba(12, 86, 163, .75) 100%);
      color: #ffffff;
      padding: 16px 18px;
      border:none;
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease;
      box-shadow: 0 10px 26px rgba(12, 86, 163, .22);
      white-space: pre-line;
      width:100%;
      max-width: 520px;
      margin: 0 auto;
      display:block;
    }
    .btn-restart:hover{ transform: translateY(-2px); box-shadow: 0 14px 32px rgba(12, 86, 163, .28); }
  </style>
</head>

<body>
  <div class="app-container">
    <div class="content-wrapper">
      <header class="header">
        <!-- 2è¡Œå›ºå®šï¼ˆã‚·ãƒªãƒ¼ã‚ºçµ±ä¸€ï¼‰ -->
        <h1 class="title" id="mainTitle">ã‚­ãƒƒãƒãƒ³<br>ã‚»ãƒ«ãƒ•è¨ºæ–­</h1>
        <p class="subtitle" id="subtitle">ã‚ãªãŸã«ã´ã£ãŸã‚Šã®<br>ã‚­ãƒƒãƒãƒ³ã‚¿ã‚¤ãƒ—ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚</p>
      </header>

      <main id="startScreen" class="start-screen">
        <div class="start-icon">ğŸ³</div>
        <p class="start-description">
          è³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€<br>ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ã‚­ãƒƒãƒãƒ³ã‚’ã”ææ¡ˆã—ã¾ã™ã€‚<br>
          æ‰€è¦æ™‚é–“ï¼šç´„2åˆ†
        </p>
        <button class="btn" id="startButton" type="button" onclick="startDiagnosis()">è¨ºæ–­
ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
      </main>

      <section id="questionScreen" style="display:none;">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width:0%;"></div>
        </div>

        <div class="question-container">
          <span class="question-number" id="questionNumber">è³ªå• 1/8</span>
          <h2 class="question-text" id="questionText"></h2>
          <div class="options-grid" id="optionsContainer"></div>
        </div>

        <nav class="navigation-buttons">
          <button class="btn-secondary" id="backButton" type="button" onclick="goBack()" disabled>æˆ»ã‚‹</button>
          <button class="btn" id="nextButton" type="button" onclick="goNext()" disabled>æ¬¡ã¸</button>
        </nav>
      </section>

      <section id="resultScreen" style="display:none;">
        <div class="result-container">
          <div class="result-icon">ğŸ‰</div>
          <h2 class="result-title">è¨ºæ–­çµæœ</h2>

          <div id="resultLoading" class="result-loading">ã‚ãªãŸã®è¨ºæ–­çµæœã¯ãƒ»ãƒ»ãƒ»ï¼Ÿ</div>

          <div id="resultContent" style="display:none;">
            <div class="result-product" id="resultProduct"></div>

            <div class="result-images">
              <div class="image-wrapper">
                <img id="resultImageMain" class="result-image" alt="ãŠã™ã™ã‚è£½å“ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰"
                     onerror="this.src=''; this.alt='ç”»åƒã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ'; this.style.display='none';" />
              </div>
              <div class="image-wrapper">
                <img id="resultImageSub" class="result-image" alt="ãŠã™ã™ã‚è£½å“ï¼ˆã‚µãƒ–ï¼‰"
                     onerror="this.src=''; this.alt='ç”»åƒã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ'; this.style.display='none';" />
              </div>
            </div>

            <div class="result-description" id="resultDescription"></div>

            <!-- CTAï¼ˆãƒã‚¹ãƒ«ãƒ¼ãƒ ã¨åŒã˜å°ç·šï¼‰ -->
            <div class="cta" id="ctaBlock">
              <h3>ã“ã®çµæœã‚’ã‚‚ã¨ã«ã€<br>â€œã‚ãªãŸã®ãŠå®¶ã®ã‚¢ãƒ•ã‚¿ãƒ¼â€ã‚’è¦‹ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿ</h3>
              <p>
                è¨ºæ–­çµæœãŒã€Œæ–‡å­—ã€ã ã‘ã ã¨ã€ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒæ¹§ãã«ãã„ã“ã¨ã‚‚ã€‚<br>
                ä»Šã®å†™çœŸï¼ˆãƒ“ãƒ•ã‚©ãƒ¼ï¼‰ã‚’ã‚‚ã¨ã«ã€ã‚ãªãŸã«åˆã†é›°å›²æ°—ã®â€œã‚¢ãƒ•ã‚¿ãƒ¼ã‚¤ãƒ¡ãƒ¼ã‚¸â€ã‚’ä½œã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
              </p>
              <ul>
                <li>ã‚ãªãŸã®è¨ºæ–­çµæœã‚’åæ˜ ã—ãŸ <strong>ã‚¢ãƒ•ã‚¿ãƒ¼ã‚¤ãƒ¡ãƒ¼ã‚¸</strong></li>
                <li>ã€Œæ°´å»»ã‚Šã‚’é¸ã¶æ™‚ã®ãƒã‚¤ãƒ³ãƒˆ10é¸ï¼ˆPDFï¼‰ã€</li>
              </ul>
              <p><strong>ãŠè©¦ã—ã‚»ãƒƒãƒˆï¼š300å††</strong></p>

              <button class="btn-line" type="button" onclick="openLine()">
                å…¬å¼LINEã§<br>ç›¸è«‡ã™ã‚‹
              </button>
              <button class="btn-pay" type="button" onclick="openPayment()">
                300å††ã‚»ãƒƒãƒˆã‚’<br>ç”³ã—è¾¼ã‚€
              </button>

              <div class="mini">
                â€»ä»Šã®å†™çœŸï¼ˆãƒ“ãƒ•ã‚©ãƒ¼ï¼‰ã¨è¨ºæ–­çµæœï¼ˆã‚¹ã‚¯ã‚·ãƒ§ï¼‰ã‚’LINEã§é€ã‚‹ã ã‘ã§OKã§ã™ã€‚
              </div>
            </div>

            <button class="btn-restart" type="button" onclick="restartDiagnosis()">ã‚‚ã†ä¸€åº¦
è¨ºæ–­ã™ã‚‹</button>
          </div>
        </div>
      </section>

    </div>
  </div>

<script>
  // â˜…å·®ã—æ›¿ãˆç”¨ï¼ˆã‚ã¨ã§URLã‚’å…¥ã‚Œã‚‹ã ã‘ï¼‰
  const LINE_URL = "ï¼ˆã“ã“ã«å…¬å¼LINEã®URLã‚’å…¥ã‚Œã‚‹ï¼‰";
  const PAYMENT_URL = "ï¼ˆã“ã“ã«æ±ºæ¸ˆãƒªãƒ³ã‚¯ã®URLã‚’å…¥ã‚Œã‚‹ï¼‰";

  function openLine(){
    if(!LINE_URL || LINE_URL.includes("ã“ã“ã«")){
      alert("LINEã®URLãŒæœªè¨­å®šã§ã™ã€‚LINE_URLã‚’å·®ã—æ›¿ãˆã¦ã­ã€‚");
      return;
    }
    window.open(LINE_URL, "_blank");
  }

  function openPayment(){
    if(!PAYMENT_URL || PAYMENT_URL.includes("ã“ã“ã«")){
      alert("æ±ºæ¸ˆãƒªãƒ³ã‚¯ãŒæœªè¨­å®šã§ã™ã€‚PAYMENT_URLã‚’å·®ã—æ›¿ãˆã¦ã­ã€‚");
      return;
    }
    window.open(PAYMENT_URL, "_blank");
  }

  const questions = [
    {
      id: 1,
      text: "ä»Šã®ã‚­ãƒƒãƒãƒ³ã§æ°—ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ã€2ã¤ã¾ã§ã€‘é¸ã‚“ã§ãã ã•ã„",
      maxSelections: 2,
      options: [
        { icon: "ğŸ§¼", text: "æ²¹æ±šã‚Œã‚„æƒé™¤ã®\nå¤§å¤‰ã•ãŒæ°—ã«ãªã‚‹", value: "concern_cleaning" },
        { icon: "ğŸ“¦", text: "åç´ãŒè¶³ã‚Šãªã„ãƒ»\nç‰‡ã¥ã‘ã«ãã„", value: "concern_storage" },
        { icon: "ğŸ³", text: "ä½œæ¥­ã‚¹ãƒšãƒ¼ã‚¹ãŒ\nç‹­ã„", value: "concern_space" },
        { icon: "ğŸ¨", text: "ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»\nè¦‹ãŸç›®ãŒå¤ã„", value: "concern_design" },
        { icon: "ğŸ”", text: "èª¿ç†ä¸­ã®å‹•ç·šãŒ\næ‚ªãã¦ä½¿ã„ã«ãã„", value: "concern_flow" }
      ]
    },
    {
      id: 2,
      text: "ã‚­ãƒƒãƒãƒ³é¸ã³ã§ã€Œã“ã‚Œã ã‘ã¯è­²ã‚Œãªã„ã€ã¨æ€ã†ãƒã‚¤ãƒ³ãƒˆã‚’ã€2ã¤ã¾ã§ã€‘é¸ã‚“ã§ãã ã•ã„",
      maxSelections: 2,
      options: [
        { icon: "ğŸ§¼", text: "æƒé™¤ã®\nã—ã‚„ã™ã•", value: "priority_cleaning" },
        { icon: "ğŸ“¦", text: "åç´åŠ›", value: "priority_storage" },
        { icon: "ğŸ’ª", text: "ä¸ˆå¤«ã•ãƒ»é•·æŒã¡\nã™ã‚‹ã“ã¨", value: "priority_durability" },
        { icon: "ğŸ¨", text: "è¦‹ãŸç›®\nãƒ‡ã‚¶ã‚¤ãƒ³æ€§", value: "priority_design" },
        { icon: "ğŸ³", text: "èª¿ç†ã®ã—ã‚„ã™ã•ãƒ»\nä½œæ¥­åŠ¹ç‡", value: "priority_workflow" }
      ]
    },
    {
      id: 3,
      text: "ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚„æ‰‰ãªã©ã€ç´ æã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ä¸€ç•ªè¿‘ã„ã‚‚ã®ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸ§Š", text: "äººå·¥å¤§ç†çŸ³ã®\nã‚„ã‚ã‚‰ã‹ã„è³ªæ„ŸãŒå¥½ã", value: "material_artificial_stone" },
        { icon: "âœ¨", text: "ã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹ã®\nã‚¹ãƒƒã‚­ãƒªã—ãŸæ„Ÿã˜ãŒå¥½ã", value: "material_stainless" },
        { icon: "ğŸ”¥", text: "ãƒ›ãƒ¼ãƒ­ãƒ¼ãªã©ã€\næ±šã‚Œã«å¼·ã„ç´ æãŒè‰¯ã„", value: "material_enamel" },
        { icon: "ğŸ’­", text: "ç´ æã«ã¯\nã‚ã¾ã‚Šã“ã ã‚ã‚‰ãªã„", value: "material_any" }
      ]
    },
    {
      id: 4,
      text: "é£Ÿæ´—æ©Ÿã«ã¤ã„ã¦ä¸€ç•ªè¿‘ã„ã‚‚ã®ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸ™…â€â™€ï¸", text: "é£Ÿæ´—æ©Ÿã¯\nè¦ã‚‰ãªã„", value: "dw_none" },
        { icon: "ğŸ“¥", text: "å¼•ãå‡ºã—å¼ã®\næ¨™æº–çš„ãªé£Ÿæ´—æ©ŸãŒæ¬²ã—ã„", value: "dw_drawer" },
        { icon: "ğŸ“¦", text: "ãƒ•ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³ã®\nå¤§ããªé£Ÿæ´—æ©ŸãŒæ¬²ã—ã„", value: "dw_full" },
        { icon: "ğŸŒ", text: "æ°—ã«å…¥ã£ã¦ã„ã‚‹é£Ÿæ´—æ©ŸãŒã‚ã‚‹\nï¼ˆæµ·å¤–è£½ãªã©ï¼‰", value: "dw_special" }
      ]
    },
    {
      id: 5,
      text: "ã‚­ãƒƒãƒãƒ³å…¨ä½“ã®é›°å›²æ°—ã§ã€è¿‘ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸŒ¿", text: "æœ¨ç›®ã‚„ãƒŠãƒãƒ¥ãƒ©ãƒ«ã§\nã‚„ã‚ã‚‰ã‹ã„é›°å›²æ°—", value: "style_natural" },
        { icon: "âœ¨", text: "ç™½ã‚„æ˜ã‚‹ã‚ã§\næ¸…æ½”æ„Ÿã®ã‚ã‚‹é›°å›²æ°—", value: "style_bright" },
        { icon: "ğŸ–¤", text: "æ¿ƒè‰²ã‚„ãƒ–ãƒ©ãƒƒã‚¯ç³»ã®\nã‚·ãƒƒã‚¯ãªé›°å›²æ°—", value: "style_chic" },
        { icon: "ğŸ¨", text: "ãƒ›ãƒ†ãƒ«ãƒ©ã‚¤ã‚¯ãª\né«˜ç´šæ„Ÿã®ã‚ã‚‹é›°å›²æ°—", value: "style_luxury" },
        { icon: "â˜•", text: "ã‚«ãƒ•ã‚§é¢¨ãƒ»\nã“ã ã‚ã‚Šã®ã‚ã‚‹é›°å›²æ°—", value: "style_cafe" }
      ]
    },
    {
      id: 6,
      text: "ã‚·ãƒ³ã‚¯ã®ä½¿ã„å‹æ‰‹ã¯ä½•ã‚’å„ªå…ˆã—ã¾ã™ã‹ï¼Ÿã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸ›Ÿ", text: "åºƒãã¦\nä½¿ã„ã‚„ã™ã„ã‚‚ã®", value: "sink_wide" },
        { icon: "ğŸ”", text: "ä½œæ¥­ã®ã—ã‚„ã™ã•ã‚’\nè€ƒãˆã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®", value: "sink_workflow" },
        { icon: "ğŸ§½", text: "æƒé™¤ãŒ\nã—ã‚„ã™ã„ã‚‚ã®", value: "sink_cleaning" },
        { icon: "ğŸ§º", text: "ã‚·ãƒ³ã‚¯å‘¨ã‚Šã®å°ç‰©ã®\næ•´ç†ãŒã—ã‚„ã™ã„ã‚‚ã®", value: "sink_storage" }
      ]
    },
    {
      id: 7,
      text: "ãƒ¬ãƒ³ã‚¸ãƒ•ãƒ¼ãƒ‰ï¼ˆæ›æ°—æ‰‡ï¼‰ã®æƒé™¤ã«ã¤ã„ã¦ã€ä¸€ç•ªè¿‘ã„ã‚‚ã®ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸ˜µ", text: "æ­£ç›´ã»ã¨ã‚“ã©\næƒé™¤ã—ãŸããªã„\nï¼ˆè‡ªå‹•æ´—æµ„ãŒæ°—ã«ãªã‚‹ï¼‰", value: "hood_auto" },
        { icon: "ğŸ§½", text: "ä»Šã‚ˆã‚Šãƒ©ã‚¯ã«ãªã‚Œã°\nå¬‰ã—ã„", value: "hood_easier" },
        { icon: "ğŸ’­", text: "ç‰¹ã«ã“ã ã‚ã‚Šã¯\nãªã„", value: "hood_any" }
      ]
    },
    {
      id: 8,
      text: "ãƒªãƒ•ã‚©ãƒ¼ãƒ ã®äºˆç®—ã‚¤ãƒ¡ãƒ¼ã‚¸ã«ä¸€ç•ªè¿‘ã„ã‚‚ã®ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸ’°", text: "ã§ãã‚‹ã ã‘æŠ‘ãˆãŸã„\nï¼ˆãƒ™ãƒ¼ã‚·ãƒƒã‚¯é‡è¦–ï¼‰", value: "budget_low" },
        { icon: "âš–ï¸", text: "é‡‘é¡ã¨ä½¿ã„ã‚„ã™ã•ã®\nãƒãƒ©ãƒ³ã‚¹ã‚’é‡è¦–ã—ãŸã„", value: "budget_mid" },
        { icon: "ğŸŒŸ", text: "å¤šå°‘é«˜ãã¦ã‚‚ã€\nä½¿ã„ã‚„ã™ã•ã‚„ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å„ªå…ˆã—ãŸã„", value: "budget_high" }
      ]
    }
  ];

  const productImages = {
    'ãƒŸãƒƒãƒ†':   { main: 'https://i.imgur.com/lYwGJb9.png', sub: '' },
    'ã‚¯ãƒ©ãƒƒã‚½': { main: 'https://i.imgur.com/1j3C9xW.png', sub: '' },
    'ã‚·ã‚¨ãƒ©':   { main: 'https://i.imgur.com/5Kd6OcS.png', sub: '' },
    'ãƒã‚¯ãƒˆ':   { main: 'https://i.imgur.com/joEDAPT.png', sub: '' },
    'ã‚¨ãƒ¼ãƒ‡ãƒ«': { main: 'https://i.imgur.com/FOL09ua.png', sub: '' },
    'ãƒˆãƒ¬ãƒ¼ã‚·ã‚¢': { main: 'https://i.imgur.com/scc3cmK.png', sub: '' },
    'ãƒ©ã‚¯ã‚¨ãƒ©': { main: 'https://i.imgur.com/1NXJzz5.png', sub: '' },
    'ã‚¹ãƒ†ãƒ‡ã‚£ã‚¢': { main: 'https://i.imgur.com/Yr4i1xz.png', sub: '' },
    'Bbï¼‹':     { main: 'https://i.imgur.com/NZu094j.png', sub: '' },
    'ã‚³ãƒ©ãƒ¼ã‚¸ã‚¢': { main: 'https://i.imgur.com/BDjyXwa.png', sub: '' }
  };

  let currentQuestion = 0;
  let answers = {};
  let selectedOption = null;
  let selectedOptions = [];

  function startDiagnosis(){
    document.getElementById('startScreen').style.display = 'none';
    document.getElementById('questionScreen').style.display = 'block';
    currentQuestion = 0;
    answers = {};
    selectedOption = null;
    selectedOptions = [];
    showQuestion();
  }

  function showQuestion(){
    const q = questions[currentQuestion];
    const progress = ((currentQuestion + 1) / questions.length) * 100;
    document.getElementById('progressFill').style.width = progress + '%';
    document.getElementById('questionNumber').textContent = `è³ªå• ${currentQuestion + 1}/${questions.length}`;
    document.getElementById('questionText').textContent = q.text;

    const optionsContainer = document.getElementById('optionsContainer');
    optionsContainer.innerHTML = '';

    const isMulti = q.maxSelections && q.maxSelections > 1;

    q.options.forEach((opt, idx) => {
      const card = document.createElement('div');
      card.className = 'option-card';
      card.innerHTML = `
        <div class="option-icon">${opt.icon}</div>
        <div class="option-text">${opt.text}</div>
      `;
      card.onclick = isMulti
        ? () => selectMultipleOptions(idx, opt.value, q.maxSelections)
        : () => selectOption(idx, opt.value);
      optionsContainer.appendChild(card);
    });

    if (isMulti){
      selectedOptions = answers[q.id] || [];
      const cards = document.querySelectorAll('.option-card');
      selectedOptions.forEach(v => {
        const i = q.options.findIndex(o => o.value === v);
        if (i !== -1) cards[i].classList.add('selected');
      });
    }else{
      selectedOption = answers[q.id] || null;
      if (selectedOption){
        const i = q.options.findIndex(o => o.value === selectedOption);
        if (i !== -1){
          const cards = document.querySelectorAll('.option-card');
          cards[i].classList.add('selected');
        }
      }
    }

    updateNavigationButtons();
  }

  function selectOption(index, value){
    const cards = document.querySelectorAll('.option-card');
    cards.forEach((c,i)=>c.classList.toggle('selected', i===index));
    selectedOption = value;
    answers[questions[currentQuestion].id] = value;
    updateNavigationButtons();
  }

  function selectMultipleOptions(index, value, maxSelections){
    const cards = document.querySelectorAll('.option-card');
    const card = cards[index];

    if (selectedOptions.includes(value)){
      selectedOptions = selectedOptions.filter(v => v !== value);
      card.classList.remove('selected');
    }else{
      if (selectedOptions.length < maxSelections){
        selectedOptions.push(value);
        card.classList.add('selected');
      }
    }
    answers[questions[currentQuestion].id] = selectedOptions;
    updateNavigationButtons();
  }

  function updateNavigationButtons(){
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;

    document.getElementById('backButton').disabled = currentQuestion === 0;
    document.getElementById('nextButton').disabled = isMulti ? (selectedOptions.length < 1) : (selectedOption === null);
  }

  function goBack(){
    if (currentQuestion <= 0) return;
    currentQuestion--;
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;
    if (isMulti) selectedOptions = answers[q.id] || [];
    else selectedOption = answers[q.id] || null;
    showQuestion();
  }

  function goNext(){
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;
    const isAnswered = isMulti ? (selectedOptions.length > 0) : (selectedOption !== null);

    if (!isAnswered) return;

    if (currentQuestion < questions.length - 1){
      currentQuestion++;
      const nextQ = questions[currentQuestion];
      const nextIsMulti = nextQ.maxSelections && nextQ.maxSelections > 1;
      if (nextIsMulti) selectedOptions = answers[nextQ.id] || [];
      else selectedOption = answers[nextQ.id] || null;
      showQuestion();
    }else{
      document.getElementById('questionScreen').style.display = 'none';
      document.getElementById('resultScreen').style.display = 'block';
      calculateResult();
    }
  }

  function calculateResult(){
    document.getElementById('resultLoading').style.display = 'block';
    document.getElementById('resultContent').style.display = 'none';

    const result = calculateKitchenResult();

    setTimeout(() => {
      document.getElementById('resultLoading').style.display = 'none';
      document.getElementById('resultContent').style.display = 'block';

      document.getElementById('resultProduct').textContent = result.product;
      document.getElementById('resultDescription').textContent = result.description;

      const images = productImages[result.product] || { main:'', sub:'' };
      const mainImg = document.getElementById('resultImageMain');
      const subImg  = document.getElementById('resultImageSub');

      mainImg.src = images.main || '';
      mainImg.style.display = images.main ? 'block' : 'none';
      mainImg.alt = `${result.product} (ãƒ¡ã‚¤ãƒ³)`;

      subImg.src = images.sub || '';
      subImg.style.display = images.sub ? 'block' : 'none';
      subImg.alt = `${result.product} (ã‚µãƒ–)`;

    }, 1500);
  }

  // â˜… ã‚ã‚„ãªã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’ãã®ã¾ã¾ç§»æ¤ï¼ˆåå‰ã ã‘æ•´ç†ï¼‰
  function calculateKitchenResult(){
    const concernsQ1 = Array.isArray(answers[1]) ? answers[1] : [answers[1]];
    const prioritiesQ2 = Array.isArray(answers[2]) ? answers[2] : [answers[2]];
    const material = answers[3];
    const dishwasher = answers[4];
    const style = answers[5];
    const sink = answers[6];
    const hood = answers[7];
    const budget = answers[8];

    const concernCleaning = concernsQ1.includes('concern_cleaning');
    const concernStorage = concernsQ1.includes('concern_storage');
    const concernSpace = concernsQ1.includes('concern_space');
    const concernDesign = concernsQ1.includes('concern_design');
    const concernFlow = concernsQ1.includes('concern_flow');

    const priorityCleaning = prioritiesQ2.includes('priority_cleaning');
    const priorityStorage = prioritiesQ2.includes('priority_storage');
    const priorityDurability = prioritiesQ2.includes('priority_durability');
    const priorityDesign = prioritiesQ2.includes('priority_design');
    const priorityWorkflow = prioritiesQ2.includes('priority_workflow');

    let product = 'ãƒŸãƒƒãƒ†';
    let description = 'ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ¨™æº–çš„ãªã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';

    if (budget === 'budget_low') {
      if (concernCleaning || priorityCleaning) {
        product = 'ãƒ©ã‚¯ã‚¨ãƒ©';
        description = 'ãŠæ‰‹é ƒä¾¡æ ¼ã§æƒé™¤ã®ã—ã‚„ã™ã•ã‚’å®Ÿç¾ã€‚æ±šã‚ŒãŒã¤ãã«ããã€ãŠæ‰‹å…¥ã‚Œç°¡å˜ãªå®Ÿç”¨çš„ãªã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
      } else if (concernStorage || priorityStorage) {
        product = 'ã‚·ã‚¨ãƒ©';
        description = 'ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆãªãŒã‚‰åç´åŠ›ã‚’ç¢ºä¿ã€‚æ©Ÿèƒ½çš„ã§ä½¿ã„ã‚„ã™ã„ã€ãƒ™ãƒ¼ã‚·ãƒƒã‚¯ãªã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
      } else {
        product = 'ãƒŸãƒƒãƒ†';
        description = 'ã‚·ãƒ³ãƒ—ãƒ«ã§ä½¿ã„ã‚„ã™ã„ã€ã‚³ã‚¹ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å„ªã‚ŒãŸã‚­ãƒƒãƒãƒ³ã€‚å¿…è¦ãªæ©Ÿèƒ½ã‚’ã—ã£ã‹ã‚Šå‚™ãˆã¦ã„ã¾ã™ã€‚';
      }
    } else if (budget === 'budget_high') {
      if (style === 'style_luxury' || priorityDesign) {
        if (material === 'material_stainless') {
          product = 'ã‚¯ãƒ©ãƒƒã‚½';
          description = 'ã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹ã®ç¾ã—ã•ã¨æ©Ÿèƒ½æ€§ã‚’æ¥µã‚ãŸæœ€é«˜ç´šã‚­ãƒƒãƒãƒ³ã€‚ãƒ—ãƒ­ä»•æ§˜ã®ä½¿ã„å¿ƒåœ°ã¨åœ§å€’çš„ãªé«˜ç´šæ„Ÿã‚’ä¸¡ç«‹ã—ã¾ã™ã€‚';
        } else {
          product = 'ãƒˆãƒ¬ãƒ¼ã‚·ã‚¢';
          description = 'ãƒ›ãƒ†ãƒ«ãƒ©ã‚¤ã‚¯ãªæ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã¨æœ€å…ˆç«¯ã®æ©Ÿèƒ½æ€§ã€‚æ¯æ—¥ã®èª¿ç†ã‚’ç‰¹åˆ¥ãªä½“é¨“ã«å¤‰ãˆã‚‹é«˜ç´šã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
        }
      } else if (priorityCleaning || hood === 'hood_auto') {
        product = 'ã‚¹ãƒ†ãƒ‡ã‚£ã‚¢';
        description = 'è‡ªå‹•æ´—æµ„æ©Ÿèƒ½ã‚’æ­è¼‰ã—ãŸå…ˆé€²ã®ã‚­ãƒƒãƒãƒ³ã€‚ãŠæ‰‹å…¥ã‚Œã®æ‰‹é–“ã‚’æœ€å°é™ã«æŠ‘ãˆã€ã„ã¤ã§ã‚‚æ¸…æ½”ãªçŠ¶æ…‹ã‚’ä¿ã¡ã¾ã™ã€‚';
      } else {
        product = 'ã‚¨ãƒ¼ãƒ‡ãƒ«';
        description = 'ä¸Šè³ªãªç´ æã¨æ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ãŒç‰¹å¾´ã€‚ä½¿ã„å‹æ‰‹ã¨ç¾ã—ã•ã‚’é«˜æ¬¡å…ƒã§èåˆã—ãŸç†æƒ³ã®ã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
      }
    } else {
      if (concernCleaning && priorityCleaning) {
        product = 'ã‚¹ãƒ†ãƒ‡ã‚£ã‚¢';
        description = 'è‡ªå‹•æ´—æµ„ãªã©å…ˆé€²ã®æ¸…æƒæ©Ÿèƒ½ã‚’å‚™ãˆãŸä¸­ä¾¡æ ¼å¸¯ã®å„ªç§€ãƒ¢ãƒ‡ãƒ«ã€‚ãŠæ‰‹å…¥ã‚Œã®è² æ‹…ã‚’å¤§å¹…ã«è»½æ¸›ã—ã¾ã™ã€‚';
      } else if (style === 'style_cafe' || (priorityDesign && priorityWorkflow)) {
        product = 'Bbï¼‹';
        description = 'ã‚«ãƒ•ã‚§ã®ã‚ˆã†ãªãŠã—ã‚ƒã‚Œãªç©ºé–“ã¨å®Ÿç”¨æ€§ã‚’ä¸¡ç«‹ã€‚ã“ã ã‚ã‚Šã®ãƒ‡ã‚¶ã‚¤ãƒ³ã¨ä½¿ã„ã‚„ã™ã•ãŒé­…åŠ›ã§ã™ã€‚';
      } else if (material === 'material_enamel' || priorityDurability) {
        product = 'ã‚¨ãƒ¼ãƒ‡ãƒ«';
        description = 'ä¸ˆå¤«ã§é•·æŒã¡ã™ã‚‹ç´ æã‚’ä½¿ç”¨ã—ã€ç¾ã—ã•ã‚‚å…¼ã­å‚™ãˆãŸã‚­ãƒƒãƒãƒ³ã€‚é•·ãæ„›ç”¨ã§ãã‚‹å“è³ªã®é«˜ã•ãŒç‰¹å¾´ã§ã™ã€‚';
      } else if (concernStorage || priorityStorage) {
        product = 'ã‚³ãƒ©ãƒ¼ã‚¸ã‚¢';
        description = 'åç´åŠ›ã¨ä½¿ã„å‹æ‰‹ã‚’é‡è¦–ã—ãŸè¨­è¨ˆã€‚æ•´ç†æ•´é “ãŒã—ã‚„ã™ãã€èª¿ç†åŠ¹ç‡ãŒä¸ŠãŒã‚‹ã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
      } else {
        product = 'ãƒã‚¯ãƒˆ';
        description = 'ã‚·ãƒƒã‚¯ã§è½ã¡ç€ã„ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã¨å……å®Ÿã®æ©Ÿèƒ½æ€§ã€‚ä¾¡æ ¼ã¨å“è³ªã®ãƒãƒ©ãƒ³ã‚¹ã«å„ªã‚ŒãŸã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
      }
    }

    if (material === 'material_stainless' && !['ã‚¯ãƒ©ãƒƒã‚½', 'ã‚¹ãƒ†ãƒ‡ã‚£ã‚¢'].includes(product)) {
      if (budget === 'budget_high') {
        product = 'ã‚¯ãƒ©ãƒƒã‚½';
        description = 'ã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹ã®ç¾ã—ã•ã‚’è¿½æ±‚ã—ãŸæœ€é«˜ç´šãƒ¢ãƒ‡ãƒ«ã€‚ãƒ—ãƒ­ä»•æ§˜ã®æ©Ÿèƒ½æ€§ã¨è€ä¹…æ€§ã‚’å…¼ã­å‚™ãˆã¦ã„ã¾ã™ã€‚';
      } else if (budget === 'budget_mid') {
        product = 'ã‚¹ãƒ†ãƒ‡ã‚£ã‚¢';
        description = 'ã‚¹ãƒ†ãƒ³ãƒ¬ã‚¹ã®ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ã•ã¨ä½¿ã„ã‚„ã™ã•ã‚’ä¸¡ç«‹ã€‚ãŠæ‰‹å…¥ã‚Œã‚‚ç°¡å˜ãªå®Ÿç”¨çš„ã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
      }
    }

    if (material === 'material_artificial_stone' && budget !== 'budget_low') {
      if (style === 'style_natural' || style === 'style_bright') {
        if (!['ãƒˆãƒ¬ãƒ¼ã‚·ã‚¢', 'ã‚¨ãƒ¼ãƒ‡ãƒ«'].includes(product)) {
          if (budget === 'budget_high') {
            product = 'ãƒˆãƒ¬ãƒ¼ã‚·ã‚¢';
            description = 'äººå·¥å¤§ç†çŸ³ã®ç¾ã—ã„è³ªæ„Ÿã¨é«˜ç´šæ„Ÿã€‚æ˜ã‚‹ãä¸Šå“ãªç©ºé–“ã‚’æ¼”å‡ºã™ã‚‹æœ€ä¸Šç´šã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
          } else {
            product = 'ã‚¨ãƒ¼ãƒ‡ãƒ«';
            description = 'äººå·¥å¤§ç†çŸ³ã®ã‚„ã‚ã‚‰ã‹ãªè³ªæ„ŸãŒé­…åŠ›ã€‚ãƒŠãƒãƒ¥ãƒ©ãƒ«ã§æ¸©ã‹ã¿ã®ã‚ã‚‹ç©ºé–“ã‚’å®Ÿç¾ã—ã¾ã™ã€‚';
          }
        }
      }
    }

    if (sink === 'sink_workflow') {
      if (budget === 'budget_high') {
        product = 'ãƒˆãƒ¬ãƒ¼ã‚·ã‚¢';
        description = 'èª¿ç†ä¸­ã®å‹•ç·šã‚„ä½œæ¥­åŠ¹ç‡ã‚’ã—ã£ã‹ã‚Šè€ƒãˆãŸã‚­ãƒƒãƒãƒ³ã€‚æ®µå–ã‚Šã‚ˆãä½œæ¥­ã—ãŸã„æ–¹ã«ãŠã™ã™ã‚ã§ã™ã€‚';
      } else if (priorityStorage) {
        product = 'ã‚³ãƒ©ãƒ¼ã‚¸ã‚¢';
        description = 'ä½œæ¥­ã®ã—ã‚„ã™ã•ã¨åç´è¨ˆç”»ã‚’ä¸¡ç«‹ã—ãŸã‚­ãƒƒãƒãƒ³ã€‚ã‚·ãƒ³ã‚¯ã¾ã‚ã‚Šã‚‚å«ã‚ã¦ç‰‡ã¥ã‘ã‚„ã™ãå‹•ãã‚„ã™ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒç‰¹é•·ã§ã™ã€‚';
      } else {
        product = 'ãƒã‚¯ãƒˆ';
        description = 'è½ã¡ç€ã„ãŸãƒ‡ã‚¶ã‚¤ãƒ³ã¨ã€ä½œæ¥­ã—ã‚„ã™ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒé­…åŠ›ã®ã‚­ãƒƒãƒãƒ³ã€‚æ¯æ—¥ã®æ–™ç†ãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚Šã¾ã™ã€‚';
      }
    }

    if (style === 'style_chic' && !['ãƒã‚¯ãƒˆ', 'Bbï¼‹'].includes(product) && budget !== 'budget_low') {
      if (budget === 'budget_high') {
        product = 'ãƒˆãƒ¬ãƒ¼ã‚·ã‚¢';
        description = 'ãƒ–ãƒ©ãƒƒã‚¯ç³»ã®ã‚·ãƒƒã‚¯ãªãƒ‡ã‚¶ã‚¤ãƒ³ã§é«˜ç´šæ„Ÿã‚’æ¼”å‡ºã€‚æ´—ç·´ã•ã‚ŒãŸå¤§äººã®ç©ºé–“ã‚’ä½œã‚Šå‡ºã—ã¾ã™ã€‚';
      } else {
        product = 'ãƒã‚¯ãƒˆ';
        description = 'è½ã¡ç€ã„ãŸãƒ€ãƒ¼ã‚¯ãƒˆãƒ¼ãƒ³ãŒç‰¹å¾´ã€‚ãƒ¢ãƒ€ãƒ³ã§æ´—ç·´ã•ã‚ŒãŸé›°å›²æ°—ã®ã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
      }
    }

    if (style === 'style_cafe' && budget !== 'budget_low') {
      product = 'Bbï¼‹';
      description = 'ã‚«ãƒ•ã‚§ã®ã‚ˆã†ãªãŠã—ã‚ƒã‚Œãªé›°å›²æ°—ã€‚å€‹æ€§çš„ãªãƒ‡ã‚¶ã‚¤ãƒ³ã¨ä½¿ã„å‹æ‰‹ã®è‰¯ã•ãŒé­…åŠ›ã®ã‚­ãƒƒãƒãƒ³ã§ã™ã€‚';
    }

    if (dishwasher === 'dw_full' && budget !== 'budget_low') {
      if (budget === 'budget_high' && !['ã‚¯ãƒ©ãƒƒã‚½', 'ãƒˆãƒ¬ãƒ¼ã‚·ã‚¢'].includes(product)) {
        description += ' ãƒ•ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³é£Ÿæ´—æ©Ÿã«ã‚‚å¯¾å¿œå¯èƒ½ã§ã€å¤§å®¹é‡ã®æ´—æµ„ãŒå¯èƒ½ã§ã™ã€‚';
      }
    }

    if (dishwasher === 'dw_special' && budget === 'budget_high') {
      description += ' æµ·å¤–è£½é£Ÿæ´—æ©Ÿãªã©ã€ãŠå¥½ã¿ã®æ©Ÿå™¨ã«ã‚‚ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯¾å¿œã§ãã¾ã™ã€‚';
    }

    if (sink === 'sink_wide' && priorityWorkflow) {
      description += ' åºƒã€…ã¨ã—ãŸã‚·ãƒ³ã‚¯ã§ä½œæ¥­åŠ¹ç‡ã‚‚æŠœç¾¤ã§ã™ã€‚';
    } else if (sink === 'sink_cleaning' && priorityCleaning) {
      description += ' ã‚·ãƒ³ã‚¯ã®æƒé™¤ãŒã—ã‚„ã™ã„è¨­è¨ˆã§ã€æ—¥ã€…ã®ãŠæ‰‹å…¥ã‚ŒãŒãƒ©ã‚¯ãƒ©ã‚¯ã§ã™ã€‚';
    }

    return { product, description };
  }

  function restartDiagnosis(){
    document.getElementById('resultScreen').style.display = 'none';
    document.getElementById('startScreen').style.display = 'block';
    currentQuestion = 0;
    answers = {};
    selectedOption = null;
    selectedOptions = [];
  }

  // â€œè¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆâ€æ”¹è¡Œã‚’å®‰å®šåŒ–
  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('startButton').textContent = "è¨ºæ–­\nã‚¹ã‚¿ãƒ¼ãƒˆ";
  });
</script>
</body>
</html>
