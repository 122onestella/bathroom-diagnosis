<!doctype html>
<html lang="ja" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãƒã‚¹ãƒ«ãƒ¼ãƒ ãƒ»ã‚»ãƒ«ãƒ•è¨ºæ–­</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>

    :root{
      /* ===== Font sizes ===== */
      --fs-title: clamp(56px, 9vw, 120px);
      --fs-subtitle: clamp(22px, 3.2vw, 56px);
      --fs-start-desc: clamp(20px, 3.0vw, 52px);
      --fs-btn: clamp(22px, 3.2vw, 60px);

      --fs-q: clamp(22px, 3.2vw, 44px);
      --fs-opt: clamp(18px, 2.6vw, 34px);
      --fs-chip: clamp(14px, 2.0vw, 22px);

      --fs-result-title: clamp(22px, 3.0vw, 44px);
      --fs-result-product: clamp(30px, 4.0vw, 60px);
      --fs-result-desc: clamp(16px, 2.3vw, 30px);

      /* ===== Brand-ish colors ===== */
      --sky1: #cfe9ff;
      --sky2: #ffd6e7;
      --lemon: #fff6b8;
      --lemon2:#fffbe3;

      --ink: #4a2c0f;
      --ink-soft:#6b4a2b;

      --navy: #1f3a6d;
      --blue: #2b6fe3;

      --accent:#7aa37a;
      --accent2:#ffb36b;   /* æ·¡ã„ã‚ªãƒ¬ãƒ³ã‚¸ï¼ˆè³ªå•ãƒãƒŠãƒ¼ï¼‰ */

      --card:#ffffff;
      --line: rgba(255,255,255,.55);
      --shadow: 0 18px 50px rgba(0,0,0,.16);
      --shadow2: 0 10px 26px rgba(0,0,0,.12);
      --radius: 26px;
    }

    html, body { height:100%; width:100%; }
    *{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }

    body{
      margin:0; padding:0;
      font-family: "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      /* æ°´è‰²ï¼‹ãƒ”ãƒ³ã‚¯ã®ã‚°ãƒ©ãƒ‡ï¼‹æ³¡ã£ã½ã„æŸ„ï¼ˆCSSã ã‘ã§å†ç¾ï¼‰ */
      background:
        radial-gradient(120px 120px at 18% 28%, rgba(255,255,255,.35), transparent 60%),
        radial-gradient(160px 160px at 62% 18%, rgba(255,255,255,.30), transparent 60%),
        radial-gradient(110px 110px at 82% 62%, rgba(255,255,255,.28), transparent 60%),
        radial-gradient(190px 190px at 35% 78%, rgba(255,255,255,.22), transparent 60%),
        radial-gradient(140px 140px at 78% 86%, rgba(255,255,255,.18), transparent 60%),
        linear-gradient(135deg, var(--sky1) 0%, #e9f5ff 35%, #ffe9f2 70%, var(--sky2) 100%);
      color: var(--ink);
      overflow-x:hidden;
    }

    .app-container{
      width:100%;
      min-height:100%;
      overflow-y:auto;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding: 18px;
    }

    /* è¨ºæ–­æ ï¼šç™½â†’ãƒ¬ãƒ¢ãƒ³ã‚¤ã‚¨ãƒ­ãƒ¼ */
    .content-wrapper{
      width:100%;
      max-width: 980px;
      background: linear-gradient(180deg, var(--lemon) 0%, var(--lemon2) 100%);
      border: 1px solid rgba(255,255,255,.65);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 28px 18px;
      margin: 14px 0;
      position: relative;
    }

    .header{
      text-align:center;
      margin-bottom: 18px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 10px;
    }

    /* ãµã‚ã£ã¨ã—ãŸè¦‹å‡ºã—ãƒ‘ãƒãƒ« */
    .title{
      font-size: var(--fs-title);
      font-weight: 900;
      line-height: 1.1;
      color: var(--ink);
      padding: 18px 26px;
      border-radius: 22px;
      background: rgba(255,255,255,.90);
      box-shadow: var(--shadow2);
      text-shadow: 0 2px 0 rgba(255,255,255,.85);
      white-space: pre-line;   /* \n ã‚’æ”¹è¡Œã¨ã—ã¦æ‰±ã† */
      display:inline-block;
      letter-spacing: .02em;
      margin: 6px 0 0;
    }

    .subtitle{ white-space: pre-line; 
      font-size: var(--fs-subtitle);
      color: var(--ink-soft);
      margin: 0;
      opacity: .95;
      line-height: 1.35;
    }

    /* result screenã§ã¯ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«éè¡¨ç¤º */
    #resultScreen .header .subtitle{ display:none; }

    .start-screen{
      text-align:center;
      padding: 10px 10px 6px;
    }

    .start-icon{
      font-size: 84px;
      margin: 8px 0 14px;
      animation: floaty 2.3s ease-in-out infinite;
    }

    @keyframes floaty{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-10px); }
    }

    .start-description{
      font-size: var(--fs-start-desc);
      color: #5a4633;
      margin: 0 0 18px;
      line-height: 1.6;
    }

    .btn{
      background: linear-gradient(135deg, rgba(43,111,227,.95) 0%, rgba(255,182,216,.95) 100%);
      color: #ffffff;
      border: none;
      padding: 18px 26px;
      font-size: var(--fs-btn);
      font-weight: 900;
      border-radius: 18px;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
      box-shadow: 0 10px 26px rgba(43,111,227,.22);
      width: 100%;
      max-width: 520px;
      white-space: pre-line;
      line-height: 1.25;
      letter-spacing: .02em;
    }
    .btn:hover{ transform: translateY(-2px); filter: brightness(1.02); box-shadow: 0 14px 32px rgba(43,111,227,.26); }
    .btn:active{ transform: translateY(0); }

    .progress-bar{
      width:100%;
      height: 12px;
      background: rgba(255,255,255,.60);
      border-radius: 999px;
      overflow:hidden;
      margin-bottom: 18px;
    }
    .progress-fill{
      height: 100%;
      background: linear-gradient(90deg, rgba(43,111,227,.95) 0%, rgba(255,182,216,.95) 100%);
      transition: width .35s ease;
      border-radius: 999px;
    }

    .question-container{ margin-bottom: 14px; }

    /* è³ªå•ãƒãƒŠãƒ¼ï¼šæ·¡ã„ã‚ªãƒ¬ãƒ³ã‚¸ï¼æ–‡å­—ï¼šèŒ¶è‰² */
    .question-number{
      display:inline-block;
      background: linear-gradient(135deg, rgba(255,179,107,.92) 0%, rgba(255,226,176,.92) 100%);
      color: var(--ink);
      padding: 10px 18px;
      border-radius: 999px;
      font-size: var(--fs-chip);
      font-weight: 900;
      margin-bottom: 12px;
      letter-spacing: .02em;
      border: 1px solid rgba(255,255,255,.55);
    }

    .question-text{
      font-size: var(--fs-q);
      font-weight: 900;
      color: var(--ink);
      margin: 0 0 16px;
      line-height: 1.35;
      letter-spacing: .01em;
    }

    .options-grid{
      display:flex;
      flex-direction:column;
      gap: 12px;
      margin-bottom: 10px;
    }

    .option-card{
      background: rgba(255,255,255,.88);
      border: 2px solid rgba(255,255,255,.65);
      border-radius: 18px;
      padding: 18px 14px;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      text-align:center;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-height: 92px;
      box-shadow: 0 6px 16px rgba(0,0,0,.06);
    }
    .option-card:hover{
      transform: translateY(-2px);
      border-color: rgba(43,111,227,.55);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
    }
    .option-card.selected{
      border-color: rgba(43,111,227,.92);
      background: linear-gradient(135deg, rgba(43,111,227,.10) 0%, rgba(255,182,216,.10) 100%);
      box-shadow: 0 10px 22px rgba(43,111,227,.14);
    }

    .option-icon{ font-size: 48px; margin-bottom: 8px; }
    .option-text{
      font-size: var(--fs-opt);
      font-weight: 800;
      color: var(--ink);
      line-height: 1.25;
      white-space: pre-line;
      text-align:center;
    }

    .navigation-buttons{
      display:flex;
      justify-content:space-between;
      gap: 12px;
      margin-top: 14px;
    }

    .btn-secondary{
      background: rgba(255,255,255,.70);
      color: var(--ink);
      padding: 14px 18px;
      border:none;
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      transition: filter .2s ease;
      flex:1;
    }
    .btn-secondary:hover{ filter: brightness(.98); }
    .btn-secondary:disabled{ opacity:.55; cursor:not-allowed; }

    /* ===== Result ===== */
    .result-container{ text-align:center; }
    .result-icon{ font-size: 84px; margin-bottom: 14px; animation: pop .6s ease; }
    @keyframes pop{ 0%{transform:scale(0)} 70%{transform:scale(1.08)} 100%{transform:scale(1)} }

    /* è¨ºæ–­çµæœï¼šãƒã‚¤ãƒ“ãƒ¼ */
    .result-title{
      font-size: var(--fs-result-title);
      font-weight: 900;
      margin: 0 0 12px;
      color: var(--navy);
    }

    .result-loading{
      font-size: clamp(18px, 2.4vw, 32px);
      font-weight: 900;
      color: rgba(43,111,227,.95);
      margin: 36px 0;
      animation: pulse 1.4s ease-in-out infinite;
    }
    @keyframes pulse{ 0%,100%{opacity:1} 50%{opacity:.5} }

    /* å•†å“åï¼šãƒ–ãƒ«ãƒ¼ï¼‹ç™½ãƒ•ãƒï¼ˆtext-shadowã§æ“¬ä¼¼ç¸å–ã‚Šï¼‰ */
    .result-product{
      font-size: var(--fs-result-product);
      font-weight: 950;
      color: var(--blue);
      margin: 0 0 12px;
      opacity:0;
      animation: fadeUp .6s ease forwards;
      text-shadow:
        -2px -2px 0 #fff,
         2px -2px 0 #fff,
        -2px  2px 0 #fff,
         2px  2px 0 #fff,
         0   3px 10px rgba(0,0,0,.18);
    }
    @keyframes fadeUp{ from{opacity:0; transform: translateY(14px)} to{opacity:1; transform:none} }

    .result-images{
      display:flex;
      flex-direction:column;
      gap: 12px;
      align-items:center;
      opacity:0;
      animation: fadeUp .6s ease .15s forwards;
    }
    .image-wrapper{ position:relative; display:inline-block; }
    .result-image{
      width:100%;
      max-width: 560px;
      height:auto;
      border-radius: 18px;
      margin: 10px auto;
      box-shadow: 0 14px 34px rgba(0,0,0,.14);
      display:block;
      background: rgba(255,255,255,.85);
    }

    .result-description{
      font-size: var(--fs-result-desc);
      color: var(--ink);
      line-height: 1.6;
      margin: 14px 0 18px;
      text-align:left;
      background: rgba(255,255,255,.72);
      padding: 18px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.55);
    }

    .btn-restart{
      background: linear-gradient(135deg, rgba(43,111,227,.95) 0%, rgba(43,111,227,.78) 100%);
      color: #ffffff;
      padding: 14px 18px;
      border:none;
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease;
      box-shadow: 0 10px 26px rgba(43,111,227,.22);
      width:100%;
      max-width: 520px;
      white-space: pre-line; /* \n æ”¹è¡Œå¯¾å¿œ */
    }
    .btn-restart:hover{ transform: translateY(-2px); box-shadow: 0 14px 32px rgba(43,111,227,.28); }

  </style>

  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
</head>

<body class="h-full">
  <div class="app-container">
    <div class="content-wrapper">
      <header class="header">
        <h1 class="title" id="mainTitle">ãƒã‚¹ãƒ«ãƒ¼ãƒ 
ã‚»ãƒ«ãƒ•è¨ºæ–­</h1>
        <p class="subtitle" id="subtitle">ã‚ãªãŸã«ã³ã£ãŸã‚Šã®
ãƒã‚¹ãƒ«ãƒ¼ãƒ ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚</p>
      </header>

      <main id="startScreen" class="start-screen">
        <div class="start-icon">ğŸ›</div>
        <p class="start-description">
          ç°¡å˜ãªè³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€ã‚ãªãŸã®æš®ã‚‰ã—ã«ã´ã£ãŸã‚Šã®ãƒã‚¹ãƒ«ãƒ¼ãƒ ã‚’ã”ææ¡ˆã—ã¾ã™ã€‚<br />
          æ‰€è¦æ™‚é–“ï¼šç´„2åˆ†
        </p>
        <button class="btn" id="startButton" onclick="startDiagnosis()">è¨ºæ–­
ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
      </main>

      <section id="questionScreen" style="display:none;">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width:0%;"></div>
        </div>

        <div class="question-container">
          <span class="question-number" id="questionNumber">è³ªå• 1/8</span>
          <h2 class="question-text" id="questionText"></h2>
          <div class="options-grid" id="optionsContainer"></div>
        </div>

        <nav class="navigation-buttons">
          <button class="btn-secondary" id="backButton" onclick="goBack()" disabled>æˆ»ã‚‹</button>
          <button class="btn" id="nextButton" onclick="goNext()" disabled>æ¬¡ã¸</button>
        </nav>
      </section>

      <section id="resultScreen" style="display:none;">
        <div class="result-container">
          <div class="result-icon">ğŸ‰</div>
          <h2 class="result-title">è¨ºæ–­çµæœ</h2>

          <div id="resultLoading" class="result-loading">ã‚ãªãŸã®è¨ºæ–­çµæœã¯ãƒ»ãƒ»ãƒ»ï¼Ÿ</div>

          <div id="resultContent" style="display:none;">
            <div class="result-product" id="resultProduct"></div>

            <div class="result-images">
              <div class="image-wrapper">
                <img id="resultImageMain" class="result-image" alt="ãŠã™ã™ã‚è£½å“ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰"
                     onerror="this.src=''; this.alt='ç”»åƒã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ'; this.style.display='none';" />
              </div>
              <div class="image-wrapper">
                <img id="resultImageSub" class="result-image" alt="ãŠã™ã™ã‚è£½å“ï¼ˆã‚µãƒ–ï¼‰"
                     onerror="this.src=''; this.alt='ç”»åƒã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ'; this.style.display='none';" />
              </div>
            </div>

            <div class="result-description" id="resultDescription"></div>
            <button class="btn-restart" onclick="restartDiagnosis()">ã‚‚ã†ä¸€åº¦
è¨ºæ–­ã™ã‚‹</button>
          </div>
        </div>
      </section>

    </div>
  </div>

<script>
  const defaultConfig = {
    main_title: "ãƒã‚¹ãƒ«ãƒ¼ãƒ \nã‚»ãƒ«ãƒ•è¨ºæ–­",
    subtitle: "ã‚ãªãŸã«ã³ã£ãŸã‚Šã®\nãƒã‚¹ãƒ«ãƒ¼ãƒ ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†ã€‚",
    start_button: "è¨ºæ–­\nã‚¹ã‚¿ãƒ¼ãƒˆ"
  };

  const questions = [
    {
      id: 1,
      text: "ä»Šã®ãŠé¢¨å‘‚ã§æ°—ã«ãªã£ã¦ã„ã‚‹éƒ¨åˆ†ã‚’ã€2ã¤ã¾ã§ã€‘é¸ã‚“ã§ãã ã•ã„",
      maxSelections: 2,
      options: [
        { icon: "ğŸ§Š", text: "å¯’ã„ãƒ»\nãƒ’ãƒ¼ãƒˆã‚·ãƒ§ãƒƒã‚¯ãŒä¸å®‰", value: "cold_concern" },
        { icon: "âœ¨", text: "æƒé™¤ã—ã¦ã‚‚\næ±šã‚Œã‚„ã‚«ãƒ“ãŒè½ã¡ãªã„", value: "cleaning_hard" },
        { icon: "âš ï¸", text: "è»¢ã‚“ã ã‚Š\nã™ã¹ã‚Šãã†ã§ä¸å®‰", value: "safety_concern" },
        { icon: "ğŸ’°", text: "æµ´æ§½ã®ãŠæ¹¯ãŒå†·ã‚ã‚„ã™ã„\nå…‰ç†±è²»ãŒæ°—ã«ãªã‚‹", value: "heat_cost" },
        { icon: "ğŸ¨", text: "å¤ã•ãƒ»\nè¦‹ãŸç›®ãŒæ°—ã«ãªã‚‹", value: "appearance_old" }
      ]
    },
    {
      id: 2,
      text: "ãŠé¢¨å‘‚ã§ã€Œã“ã‚Œã ã‘ã¯è­²ã‚Œãªã„ã€å„ªå…ˆåº¦ãŒé«˜ã„ãƒã‚¤ãƒ³ãƒˆã‚’ã€2ã¤ã¾ã§ã€‘é¸ã‚“ã§ãã ã•ã„",
      maxSelections: 2,
      options: [
        { icon: "â™¨ï¸", text: "æ–­ç†±æ€§ãƒ»\næ¸©ã‹ã•", value: "insulation" },
        { icon: "âœ¨", text: "è‡ªå‹•æ´—æµ„ãƒ»é™¤èŒãªã©\nãŠæ‰‹å…¥ã‚ŒãŒãƒ©ã‚¯", value: "easy_clean" },
        { icon: "ğŸ’¡", text: "ç¯€æ°´ãƒ»çœã‚¨ãƒãªã©\nå…‰ç†±è²»ã‚’æŠ‘ãˆã‚‹", value: "energy_save" },
        { icon: "ğŸ§˜", text: "ãƒ•ã‚¡ã‚¤ãƒ³ãƒãƒ–ãƒ«ãªã©\nãƒªãƒ©ãƒƒã‚¯ã‚¹æ©Ÿèƒ½", value: "relax_function" },
        { icon: "ğŸ¨", text: "ã‚¹ãƒƒã‚­ãƒªè½ã¡ç€ã\nãƒ‡ã‚¶ã‚¤ãƒ³", value: "design_calm" }
      ]
    },
    {
      id: 3,
      text: "ã‚ãªãŸã®ãŠé¢¨å‘‚ã®å…¥ã‚Šæ–¹ã§ä¸€ç•ªè¿‘ã„ã‚‚ã®ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "âš¡", text: "ã‚µãƒƒã¨å…¥ã£ã¦\nã™ãå‡ºã‚‹", value: "quick" },
        { icon: "ğŸ§˜", text: "1æ—¥ã®ç–²ã‚Œã‚’\nã—ã£ã‹ã‚Šç™’ã—ãŸã„", value: "relax_deep" },
        { icon: "ğŸ‘¶", text: "å­ã©ã‚‚ã¨å…¥ã‚‹ã“ã¨ãŒ\nå¤šã„", value: "with_kids" },
        { icon: "ğŸŒ™", text: "è‡ªåˆ†ã ã‘ã®\nãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚¿ã‚¤ãƒ ãŒå¤§äº‹", value: "personal_relax" }
      ]
    },
    {
      id: 4,
      text: "ãŠé¢¨å‘‚æƒé™¤ã«ã¤ã„ã¦ä¸€ç•ªè¿‘ã„ã‚‚ã®ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "âœ¨", text: "ãªã‚‹ã¹ã\nãƒ©ã‚¯ã«ã—ãŸã„", value: "easy_clean_priority" },
        { icon: "ğŸ“…", text: "é€±1ãã‚‰ã„ã§\nä¸€æ°—ã«æƒé™¤ã—ãŸã„", value: "weekly_clean" },
        { icon: "ğŸ¤–", text: "è‡ªå‹•ã®æ´—æµ„æ©Ÿèƒ½ã«\nèˆˆå‘³ãŒã‚ã‚‹", value: "auto_clean_interest" },
        { icon: "ğŸ’­", text: "ç‰¹ã«ãªã—", value: "no_preference" }
      ]
    },
    {
      id: 5,
      text: "å…‰ç†±è²»ã«ã¤ã„ã¦ã®è€ƒãˆæ–¹ã§ä¸€ç•ªè¿‘ã„ã‚‚ã®ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸ’°", text: "æ¯æœˆã®ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆã¯\nã§ãã‚‹ã ã‘æŠ‘ãˆãŸã„", value: "cost_priority" },
        { icon: "âš–ï¸", text: "æ°—ã«ãªã‚‹ãŒ\nå¿«é©ã•ã‚’å„ªå…ˆã—ãŸã„", value: "comfort_priority" },
        { icon: "ğŸŒŸ", text: "ã‚ã¾ã‚Šæ„è­˜ã—ã¦ã„ãªã„", value: "not_concerned" }
      ]
    },
    {
      id: 6,
      text: "ãŠé¢¨å‘‚ã®ã€Œç©ºé–“ã€ã§ä¸€ç•ªè¿‘ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿã€1ã¤ã€‘",
      options: [
        { icon: "ğŸ¨", text: "ãƒ›ãƒ†ãƒ«ãƒ©ã‚¤ã‚¯ã§\né«˜ç´šæ„Ÿã®ã‚ã‚‹ç©ºé–“", value: "luxury_hotel" },
        { icon: "âœ¨", text: "æ˜ã‚‹ãæ¸…æ½”æ„Ÿã®\nã‚ã‚‹ç©ºé–“", value: "bright_clean" },
        { icon: "ğŸŒ³", text: "æœ¨ã®ã¬ãã‚‚ã‚Šã‚’\næ„Ÿã˜ã‚‹ç©ºé–“", value: "natural_wood" },
        { icon: "ğŸ¯", text: "é¡ã‚„ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’æ¸›ã‚‰ã—ãŸ\nã‚¹ãƒƒã‚­ãƒªç©ºé–“", value: "minimalist" }
      ]
    },
    {
      id: 7,
      text: "ç›´æ„Ÿã§ã€Œå¥½ãã€ãªãŠé¢¨å‘‚ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸ’", text: "æ˜ã‚‹ãä¸Šå“ãª\nã‚¹ãƒˆãƒ¼ãƒ³èª¿", value: "stone" },
        { icon: "ğŸŒ²", text: "æœ¨ã®ã¬ãã‚‚ã‚Š\nãƒŠãƒãƒ¥ãƒ©ãƒ«ã‚¦ãƒƒãƒ‰èª¿", value: "natural_wood_style" },
        { icon: "ğŸ–¤", text: "è½ã¡ç€ã„ãŸ\nãƒ–ãƒ©ãƒƒã‚¯ã‚·ãƒƒã‚¯èª¿", value: "black_chic" }
      ]
    },
    {
      id: 8,
      text: "æ–°ã—ã„ãŠé¢¨å‘‚ã«ã“ã‚Œã ã‘ã¯è­²ã‚Œãªã„ã€ã¨æ€ã†ã‚‚ã®ã‚’ã€2ã¤ã¾ã§ã€‘é¸ã‚“ã§ãã ã•ã„",
      maxSelections: 2,
      options: [
        { icon: "ğŸ”¥", text: "å¯’ã•ã‹ã‚‰\nè§£æ”¾ã•ã‚ŒãŸã„", value: "warm" },
        { icon: "âœ¨", text: "æƒé™¤ã‹ã‚‰\nè§£æ”¾ã•ã‚ŒãŸã„", value: "easy_maintenance" },
        { icon: "ğŸ’°", text: "æ°´é“ãƒ»å…‰ç†±è²»ã‚’\næŠ‘ãˆãŸã„", value: "utility_save" },
        { icon: "ğŸ§˜", text: "ç™’ã—ã®ç©ºé–“ã«\nå¤‰ãˆãŸã„", value: "healing" },
        { icon: "ğŸ¨", text: "è¦‹ãŸç›®ã‚’\næ–°ã—ãã—ãŸã„", value: "aesthetic" },
        { icon: "ğŸ’­", text: "ãªã‚“ã¨ãªã\næ°—ã«ãªã£ã¦ã„ã‚‹", value: "curious" }
      ]
    }
  ];

  const productImages = {
    'ã‚µã‚¶ãƒŠ': { main: 'https://i.imgur.com/xdQVq0N.png', sub: 'https://i.imgur.com/quvtqCQ.png' },
    'ã‚·ãƒ³ãƒ©': { main: 'https://i.imgur.com/A2hRr0s.png', sub: 'https://i.imgur.com/JfPpbvJ.png' },
    'ãƒªãƒ‡ã‚¢': { main: 'https://i.imgur.com/ENM59T6.png', sub: 'https://i.imgur.com/LKbKQ3M.png' },
    'ã‚¹ãƒ‘ãƒ¼ã‚¸ãƒ¥': { main: 'https://i.imgur.com/PC1fALn.png', sub: null },
    'ã‚°ãƒ©ãƒ³ã‚¹ãƒ‘': { main: 'https://i.imgur.com/Rjhtb77.png', sub: null },
    'ãƒ©ã‚¯ãƒ´ã‚£ã‚¢': { main: 'https://i.imgur.com/JammMXT.png', sub: null },
    'ã‚»ãƒ¬ãƒ´ã‚£ã‚¢': { main: 'https://i.imgur.com/gc6Qat0.png', sub: null },
    'every': { main: 'https://i.imgur.com/UUR1X1j.png', sub: null },
    'AXIY': { main: 'https://i.imgur.com/P6lkQtn.png', sub: null }
  };

  let currentQuestion = 0;
  let answers = {};
  let selectedOption = null;
  let selectedOptions = [];

  function startDiagnosis(){
    document.getElementById('startScreen').style.display = 'none';
    document.getElementById('questionScreen').style.display = 'block';
    currentQuestion = 0;
    answers = {};
    showQuestion();
  }

  function showQuestion(){
    const q = questions[currentQuestion];
    const progress = ((currentQuestion + 1) / questions.length) * 100;
    document.getElementById('progressFill').style.width = progress + '%';
    document.getElementById('questionNumber').textContent = `è³ªå• ${currentQuestion + 1}/${questions.length}`;
    document.getElementById('questionText').textContent = q.text;

    const optionsContainer = document.getElementById('optionsContainer');
    optionsContainer.innerHTML = '';

    const isMulti = q.maxSelections && q.maxSelections > 1;

    q.options.forEach((opt, idx) => {
      const card = document.createElement('div');
      card.className = 'option-card';
      card.innerHTML = `
        <div class="option-icon">${opt.icon}</div>
        <div class="option-text">${opt.text}</div>
      `;
      card.onclick = isMulti
        ? () => selectMultipleOptions(idx, opt.value, q.maxSelections)
        : () => selectOption(idx, opt.value);
      optionsContainer.appendChild(card);
    });

    if (isMulti){
      selectedOptions = answers[q.id] || [];
      const cards = document.querySelectorAll('.option-card');
      selectedOptions.forEach(v => {
        const i = q.options.findIndex(o => o.value === v);
        if (i !== -1) cards[i].classList.add('selected');
      });
    }else{
      selectedOption = answers[q.id] || null;
      if (selectedOption){
        const i = q.options.findIndex(o => o.value === selectedOption);
        if (i !== -1){
          const cards = document.querySelectorAll('.option-card');
          cards[i].classList.add('selected');
        }
      }
    }

    updateNavigationButtons();
  }

  function selectOption(index, value){
    const cards = document.querySelectorAll('.option-card');
    cards.forEach((c,i)=>c.classList.toggle('selected', i===index));
    selectedOption = value;
    answers[questions[currentQuestion].id] = value;
    updateNavigationButtons();
  }

  function selectMultipleOptions(index, value, maxSelections){
    const cards = document.querySelectorAll('.option-card');
    const card = cards[index];

    if (selectedOptions.includes(value)){
      selectedOptions = selectedOptions.filter(v => v !== value);
      card.classList.remove('selected');
    }else{
      if (selectedOptions.length < maxSelections){
        selectedOptions.push(value);
        card.classList.add('selected');
      }
    }
    answers[questions[currentQuestion].id] = selectedOptions;
    updateNavigationButtons();
  }

  function updateNavigationButtons(){
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;

    document.getElementById('backButton').disabled = currentQuestion === 0;
    document.getElementById('nextButton').disabled = isMulti ? (selectedOptions.length < 1) : (selectedOption === null);
  }

  function goBack(){
    if (currentQuestion <= 0) return;
    currentQuestion--;
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;
    if (isMulti) selectedOptions = answers[q.id] || [];
    else selectedOption = answers[q.id] || null;
    showQuestion();
  }

  function goNext(){
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;
    if (isMulti && selectedOptions.length === 0) return;
    if (!isMulti && selectedOption === null) return;

    if (currentQuestion < questions.length - 1){
      currentQuestion++;
      const nq = questions[currentQuestion];
      const nIsMulti = nq.maxSelections && nq.maxSelections > 1;
      if (nIsMulti) selectedOptions = answers[nq.id] || [];
      else selectedOption = answers[nq.id] || null;
      showQuestion();
    }else{
      showResult();
    }
  }

  function showResult(){
    document.getElementById('subtitle').style.display = 'none';
    document.getElementById('questionScreen').style.display = 'none';
    document.getElementById('resultScreen').style.display = 'block';

    document.getElementById('resultLoading').style.display = 'block';
    document.getElementById('resultContent').style.display = 'none';

    const result = calculateResult();

    setTimeout(() => {
      document.getElementById('resultLoading').style.display = 'none';
      document.getElementById('resultContent').style.display = 'block';

      document.getElementById('resultProduct').textContent = result.product;

      const mainImg = document.getElementById('resultImageMain');
      const subImg  = document.getElementById('resultImageSub');
      const mainWrapper = mainImg.closest('.image-wrapper');
      const subWrapper  = subImg.closest('.image-wrapper');

      if (result.mainImage){
        mainImg.src = result.mainImage;
        mainImg.style.display = 'block';
        mainWrapper.style.display = 'inline-block';
      }else{
        mainImg.style.display = 'none';
        mainWrapper.style.display = 'none';
      }

      if (result.subImage){
        subImg.src = result.subImage;
        subImg.style.display = 'block';
        subWrapper.style.display = 'inline-block';
      }else{
        subImg.style.display = 'none';
        subWrapper.style.display = 'none';
      }

      document.getElementById('resultDescription').textContent = result.description;
    }, 1200);
  }

  function calculateResult(){
    const concernsQ1 = Array.isArray(answers[1]) ? answers[1] : [answers[1]];
    const prioritiesQ2 = Array.isArray(answers[2]) ? answers[2] : [answers[2]];
    const bathStyle = answers[3];
    const cleaningPreference = answers[4];
    const utilityCost = answers[5];
    const spaceImage = answers[6];
    const stylePreference = answers[7];
    const mustHaveQ8 = Array.isArray(answers[8]) ? answers[8] : [answers[8]];

    const concernCold = concernsQ1.includes('cold_concern');
    const concernCleaning = concernsQ1.includes('cleaning_hard');
    const concernSafety = concernsQ1.includes('safety_concern');
    const concernHeatCost = concernsQ1.includes('heat_cost');
    const concernAppearance = concernsQ1.includes('appearance_old');

    const priorityInsulation = prioritiesQ2.includes('insulation');
    const priorityEasyClean = prioritiesQ2.includes('easy_clean');
    const priorityEnergySave = prioritiesQ2.includes('energy_save');
    const priorityRelax = prioritiesQ2.includes('relax_function');
    const priorityDesign = prioritiesQ2.includes('design_calm');

    const mustWarm = mustHaveQ8.includes('warm');
    const mustEasyMaintenance = mustHaveQ8.includes('easy_maintenance');
    const mustUtilitySave = mustHaveQ8.includes('utility_save');
    const mustHealing = mustHaveQ8.includes('healing');
    const mustAesthetic = mustHaveQ8.includes('aesthetic');

    let product = 'ã‚µã‚¶ãƒŠ';
    let description = 'ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ¨™æº–çš„ãªãƒã‚¹ãƒ«ãƒ¼ãƒ ã§ã™ã€‚';

    if (concernCold){
      if (utilityCost === 'cost_priority' || concernHeatCost){
        product = 'ã‚»ãƒ¬ãƒ´ã‚£ã‚¢';
        description = 'æ–­ç†±æ€§èƒ½ã¨çœã‚¨ãƒè¨­è¨ˆã§ã€å¯’ã•ãƒ»ãƒ’ãƒ¼ãƒˆã‚·ãƒ§ãƒƒã‚¯ã®ä¸å®‰ã‚’æ¸›ã‚‰ã—ã€å…‰ç†±è²»ã‚‚æŠ‘ãˆã‚‰ã‚Œã¾ã™ã€‚';
      }else{
        product = 'ã‚µã‚¶ãƒŠ';
        description = 'æ–­ç†±æ€§èƒ½ã§æµ´å®¤ã®å¯’ã•ã‚’å’Œã‚‰ã’ã€ãƒ’ãƒ¼ãƒˆã‚·ãƒ§ãƒƒã‚¯å¯¾ç­–ã«ã‚‚ã¤ãªãŒã‚Šã¾ã™ã€‚';
      }
    }

    if (concernCleaning){
      if (cleaningPreference === 'auto_clean_interest' || priorityEasyClean){
        product = 'ãƒ©ã‚¯ãƒ´ã‚£ã‚¢';
        description = 'è‡ªå‹•æ´—æµ„ãƒ»é™¤èŒæ©Ÿèƒ½ã§ã‚«ãƒ“ã‚„æ±šã‚Œã®ã‚¹ãƒˆãƒ¬ã‚¹ã‚’è»½æ¸›ã€‚ãŠæƒé™¤ã®è² æ‹…ã‚’å¤§å¹…ã«æ¸›ã‚‰ã›ã¾ã™ã€‚';
      }else if (cleaningPreference === 'easy_clean_priority'){
        product = 'every';
        description = 'ãŠæ‰‹å…¥ã‚Œã—ã‚„ã™ã„è¨­è¨ˆã§ã€ã‚µãƒƒã¨æƒé™¤ãŒå®Œäº†ã€‚ã‚­ãƒ¬ã‚¤ãŒç¶šãã‚„ã™ã„ãƒã‚¹ãƒ«ãƒ¼ãƒ ã§ã™ã€‚';
      }
    }

    if (concernHeatCost && !concernCold){
      product = 'ã‚»ãƒ¬ãƒ´ã‚£ã‚¢';
      description = 'ä¿æ¸©æ€§ã¨çœã‚¨ãƒè¨­è¨ˆã§ã€ãŠæ¹¯ãŒå†·ã‚ã«ããã€å…‰ç†±è²»ã‚‚æŠ‘ãˆã‚„ã™ã„ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚';
    }

    if (concernAppearance){
      if (utilityCost !== 'cost_priority'){
        product = 'ã‚°ãƒ©ãƒ³ã‚¹ãƒ‘';
        description = 'æ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã§ç©ºé–“ã‚’ä¸€æ–°ã€‚è¦‹ãŸç›®ã‚‚æ°—åˆ†ã‚‚å¤‰ãˆãŸã„æ–¹ã«ãŠã™ã™ã‚ã§ã™ã€‚';
      }
    }

    if (concernSafety){
      product = 'ã‚µã‚¶ãƒŠ';
      description = 'æ»‘ã‚Šã«ãã„åºŠã‚„æ‰‹ã™ã‚Šå¯¾å¿œã§å®‰å…¨æ€§ã‚’é‡è¦–ã€‚è»¢å€’ãƒªã‚¹ã‚¯ã‚’è»½æ¸›ã—ã¾ã™ã€‚';
    }

    if (cleaningPreference === 'auto_clean_interest'){
      product = 'ãƒ©ã‚¯ãƒ´ã‚£ã‚¢';
      description = 'è‡ªå‹•æ´—æµ„æ©Ÿèƒ½ã§æ—¥ã€…ã®ãŠæƒé™¤ã‹ã‚‰è§£æ”¾ã€‚æ¸…æ½”ã‚’ä¿ã¡ã‚„ã™ã„ãƒã‚¹ãƒ«ãƒ¼ãƒ ã§ã™ã€‚';
    }

    if (spaceImage === 'luxury_hotel'){
      if (utilityCost !== 'cost_priority'){
        if (priorityRelax){
          product = 'ã‚·ãƒ³ãƒ©';
          description = 'ãƒ•ã‚¡ã‚¤ãƒ³ãƒãƒ–ãƒ«ãªã©ä¸Šè³ªãªç™’ã—æ©Ÿèƒ½ã§ã€è‡ªå®…ã‚’ãƒ›ãƒ†ãƒ«ãƒ©ã‚¤ã‚¯ãªæ¥µä¸Šç©ºé–“ã«ã€‚';
        }else{
          product = 'ã‚¹ãƒ‘ãƒ¼ã‚¸ãƒ¥';
          description = 'é«˜ç´šæ„Ÿã¨ãƒ‡ã‚¶ã‚¤ãƒ³æ€§ã‚’é‡è¦–ã€‚æ¯æ—¥ã®ãƒã‚¹ã‚¿ã‚¤ãƒ ãŒç‰¹åˆ¥ãªæ™‚é–“ã«ãªã‚Šã¾ã™ã€‚';
        }
      }
    }else if (spaceImage === 'bright_clean'){
      if (priorityEasyClean || cleaningPreference === 'auto_clean_interest'){
        product = 'ãƒ©ã‚¯ãƒ´ã‚£ã‚¢';
        description = 'æ˜ã‚‹ãæ¸…æ½”æ„Ÿã®ã‚ã‚‹ç©ºé–“ã«ã€æ‰‹é–“ã‚’æ¸›ã‚‰ã™æ©Ÿèƒ½ã‚’ãƒ—ãƒ©ã‚¹ã€‚ã‚­ãƒ¬ã‚¤ãŒç¶šãã¾ã™ã€‚';
      }else if (utilityCost === 'cost_priority'){
        product = 'ã‚»ãƒ¬ãƒ´ã‚£ã‚¢';
        description = 'æ¸…æ½”æ„Ÿã¨çœã‚¨ãƒã‚’ä¸¡ç«‹ã€‚å…‰ç†±è²»ã‚’æŠ‘ãˆãªãŒã‚‰å¿«é©ã«éã”ã›ã¾ã™ã€‚';
      }
    }else if (spaceImage === 'natural_wood'){
      if (utilityCost !== 'cost_priority' && !concernCleaning){
        product = 'AXIY';
        description = 'æœ¨ã®ã¬ãã‚‚ã‚Šã‚’æ„Ÿã˜ã‚‹ç™’ã—ç©ºé–“ã€‚è‡ªç„¶ç´ æã®é›°å›²æ°—ã§ãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ãã¾ã™ã€‚';
      }
    }else if (spaceImage === 'minimalist'){
      if (priorityDesign && utilityCost !== 'cost_priority'){
        product = 'ã‚°ãƒ©ãƒ³ã‚¹ãƒ‘';
        description = 'ç„¡é§„ã‚’å‰Šãè½ã¨ã—ãŸã‚¹ãƒƒã‚­ãƒªç©ºé–“ã€‚æ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ãŒç‰¹å¾´ã§ã™ã€‚';
      }else if (utilityCost === 'cost_priority' && !concernCleaning){
        product = 'ãƒªãƒ‡ã‚¢';
        description = 'å¿…è¦ãªæ©Ÿèƒ½ã‚’ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ã€‚ã‚·ãƒ³ãƒ—ãƒ«ã§æƒé™¤ã‚‚ã—ã‚„ã™ã„è¨­è¨ˆã§ã™ã€‚';
      }
    }

    if (utilityCost === 'cost_priority'){
      if (priorityEnergySave || concernHeatCost || mustUtilitySave){
        product = 'ã‚»ãƒ¬ãƒ´ã‚£ã‚¢';
        description = 'çœã‚¨ãƒæ€§èƒ½ã§æ°´é“ãƒ»å…‰ç†±è²»ã‚’æŠ‘ãˆã‚„ã™ã„ãƒ¢ãƒ‡ãƒ«ã€‚çµŒæ¸ˆæ€§é‡è¦–ã®æ–¹ã«ãŠã™ã™ã‚ã§ã™ã€‚';
      }
    }

    if ((bathStyle === 'relax_deep' || bathStyle === 'personal_relax') && priorityRelax && utilityCost !== 'cost_priority'){
      product = 'ã‚·ãƒ³ãƒ©';
      description = 'ç™’ã—æ©Ÿèƒ½ãŒå……å®Ÿã€‚1æ—¥ã®ç–²ã‚Œã‚’ã—ã£ã‹ã‚Šç™’ã—ãŸã„æ–¹ã«ãŠã™ã™ã‚ã§ã™ã€‚';
    }

    if (priorityInsulation && utilityCost !== 'cost_priority'){
      product = 'ã‚µã‚¶ãƒŠ';
      description = 'æ–­ç†±æ€§èƒ½ã«å„ªã‚Œã€æ¸©ã‹ã•ãŒç¶šãã‚„ã™ã„ãŠé¢¨å‘‚ã§ã™ã€‚';
    }

    if (mustWarm && utilityCost !== 'cost_priority'){
      product = 'ã‚·ãƒ³ãƒ©';
      description = 'é«˜ã„æ–­ç†±æ€§èƒ½ã§æ¸©ã‹ã•ã‚’é€ƒã—ã«ãã„ãƒ¢ãƒ‡ãƒ«ã€‚å†¬ã§ã‚‚å¿«é©ã§ã™ã€‚';
    }

    if (mustEasyMaintenance){
      product = (cleaningPreference === 'auto_clean_interest' || utilityCost !== 'cost_priority') ? 'ãƒ©ã‚¯ãƒ´ã‚£ã‚¢' : 'every';
      description = (product === 'ãƒ©ã‚¯ãƒ´ã‚£ã‚¢')
        ? 'è‡ªå‹•æ´—æµ„æ©Ÿèƒ½ã§ãŠæƒé™¤ã®æ‰‹é–“ã‚’å¤§å¹…ã«å‰Šæ¸›ã€‚æ¸…æ½”ã‚’ä¿ã¡ã‚„ã™ã„ã§ã™ã€‚'
        : 'ãŠæ‰‹å…¥ã‚Œã—ã‚„ã™ã„è¨­è¨ˆã§ã€æƒé™¤ã®è² æ‹…ã‚’è»½æ¸›ã€‚ã‚³ã‚¹ãƒˆã‚‚æŠ‘ãˆã‚„ã™ã„ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚';
    }

    if (mustHealing && utilityCost !== 'cost_priority'){
      product = 'ã‚·ãƒ³ãƒ©';
      description = 'ç™’ã—ã®æ©Ÿèƒ½ãŒå……å®Ÿã€‚å¿ƒèº«ã‚’æ•´ãˆã‚‹â€œã”è¤’ç¾ãƒã‚¹ã‚¿ã‚¤ãƒ â€ã‚’å¶ãˆã¾ã™ã€‚';
    }

    if (mustAesthetic){
      product = (utilityCost !== 'cost_priority') ? 'ã‚¹ãƒ‘ãƒ¼ã‚¸ãƒ¥' : 'ã‚°ãƒ©ãƒ³ã‚¹ãƒ‘';
      description = (product === 'ã‚¹ãƒ‘ãƒ¼ã‚¸ãƒ¥')
        ? 'ãƒ‡ã‚¶ã‚¤ãƒ³æ€§ã¨é«˜ç´šæ„Ÿã‚’é‡è¦–ã€‚è¦‹ãŸç›®ã‚‚æ°—åˆ†ã‚‚ä¸ŠãŒã‚‹ãƒã‚¹ãƒ«ãƒ¼ãƒ ã§ã™ã€‚'
        : 'æ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã§ç©ºé–“ã‚’ä¸€æ–°ã€‚ã‚¹ã‚¿ã‚¤ãƒªãƒƒã‚·ãƒ¥ã«ä»•ä¸Šã’ãŸã„æ–¹ã¸ã€‚';
    }

    /* å¥½ã¿ã®ãƒ†ã‚¤ã‚¹ãƒˆã§è¿½è¨˜ */
    if (stylePreference === 'stone'){
      description += ' ã‚¹ãƒˆãƒ¼ãƒ³èª¿ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã§ã€æ˜ã‚‹ãä¸Šå“ãªé›°å›²æ°—ã«ã€‚';
    }else if (stylePreference === 'natural_wood_style'){
      description += ' æœ¨ç›®èª¿ã§ã‚„ã•ã—ã„æ¸©ã‚‚ã‚Šã‚’æ„Ÿã˜ã‚‹ç©ºé–“ã«ã€‚';
    }else if (stylePreference === 'black_chic'){
      description += ' ãƒ–ãƒ©ãƒƒã‚¯ç³»ã§è½ã¡ç€ã„ãŸå¤§äººã®ç©ºé–“ã«ã€‚';
    }

    const mainImageUrl = productImages[product]?.main || '';
    const subImageUrl  = productImages[product]?.sub  || '';

    return { product, mainImage: mainImageUrl, subImage: subImageUrl, description };
  }

  function restartDiagnosis(){
    document.getElementById('subtitle').style.display = 'block';
    document.getElementById('resultScreen').style.display = 'none';
    document.getElementById('startScreen').style.display = 'block';
    currentQuestion = 0;
    answers = {};
    selectedOption = null;
    selectedOptions = [];
  }


  function renderMultiline(el, text){
    const parts = String(text || "").split("\n");
    el.innerHTML = parts.map(p => `<span class="title-line">${escapeHtml(p)}</span>`).join("");
  }
  function escapeHtml(str){
    return String(str).replace(/[&<>"']/g, (m) => ({
      "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"
    }[m]));
  }

  async function onConfigChange(config){
    const mainTitle = config.main_title || defaultConfig.main_title;
    const subtitle = config.subtitle || defaultConfig.subtitle;
    const startButton = config.start_button || defaultConfig.start_button;

    renderMultiline(document.getElementById('mainTitle'), mainTitle);
document.getElementById('subtitle').textContent = subtitle;
    document.getElementById('startButton').textContent = startButton;
}

  if (window.elementSdk){
    window.elementSdk.init({
      defaultConfig,
      onConfigChange,
      mapToCapabilities: () => ({ recolorables: [], borderables: [], fontEditable: undefined, fontSizeable: undefined }),
      mapToEditPanelValues: (config) => new Map([
        ["main_title", config.main_title || defaultConfig.main_title],
        ["subtitle", config.subtitle || defaultConfig.subtitle],
        ["start_button", config.start_button || defaultConfig.start_button]
      ])
    });
  }
</script>
</body>
</html>
