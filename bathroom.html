

ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ã‚’é–‹å§‹

å…±æœ‰
ãƒã‚¹ãƒ«ãƒ¼ãƒ ã‚„ã‚­ãƒƒãƒãƒ³ã®ã‚»ãƒ«ãƒ•è¨ºæ–­ãƒ„ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã—ãŸã€‚ã†ã¾ãä½œå‹•ã—ãªã„éƒ¨åˆ†ãŒã‚ã‚‹ã®ã§ç›´ã—ãŸã„ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã‚’ã“ã“ã«è²¼ã‚‹ã®ã§ç¢ºèªã—ã¦ç›´ã—ã¦æ¬²ã—ã„ã§ã™ã€‚
Lite
æ‰¿çŸ¥ã„ãŸã—ã¾ã—ãŸã€‚ã‚»ãƒ«ãƒ•è¨ºæ–­ãƒ„ãƒ¼ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã€ä¸å…·åˆã‚’ä¿®æ­£ã„ãŸã—ã¾ã™ã€‚ã¾ãšã¯ã‚³ãƒ¼ãƒ‰ã‚’ã“ã¡ã‚‰ã«è²¼ã‚Šä»˜ã‘ã¦ã„ãŸã ã‘ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼Ÿå†…å®¹ã‚’ç¢ºèªæ¬¡ç¬¬ã€ä¿®æ­£æ¡ˆã‚’ä½œæˆã„ãŸã—ã¾ã™ã€‚
function restartDiagnosis(){
  window.location.href = "select.html";
}
Lite
ã‚³ãƒ¼ãƒ‰ã‚’ã”æç¤ºã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚
ã”æç¤ºã„ãŸã ã„ãŸ restartDiagnosis é–¢æ•°ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®å ´æ‰€ã‚’ select.html ã«å¤‰æ›´ã™ã‚‹ã“ã¨ã§è¨ºæ–­ã‚’æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™ãŸã‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãªå‡¦ç†ã§ã™ã­ã€‚
ã€Œã†ã¾ãä½œå‹•ã—ãªã„ã€ã¨ã®ã“ã¨ã§ã™ãŒã€å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªç¾è±¡ãŒèµ·ãã¦ã„ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼Ÿä¾‹ãˆã°ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ï¼š
ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„: select.html ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒåŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å­˜åœ¨ã—ãªã„ãŸã‚ã€404ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚
å®Ÿè¡Œã‚¿ã‚¤ãƒŸãƒ³ã‚°ã®å•é¡Œ: ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚é–¢æ•°ãŒå‘¼ã°ã‚Œã¦ã„ãªã„ã€‚
ãƒ‘ã‚¹ã®å•é¡Œ: ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã«ã‚ˆã£ã¦ã¯ "./select.html" ã‚„ "../select.html" ã¨æ›¸ãå¿…è¦ãŒã‚ã‚‹ã€‚
ã‚‚ã—ä»–ã«ã‚‚é–¢é€£ã™ã‚‹HTMLã‚„JavaScriptã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Œã°ã€ä½µã›ã¦å…±æœ‰ã—ã¦ã„ãŸã ã‘ã¾ã™ã¨ã€ã‚ˆã‚Šæ­£ç¢ºãªè¨ºæ–­ã¨ä¿®æ­£ãŒå¯èƒ½ã§ã™ã€‚ç‰¹ã«ã€ã“ã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ãƒœã‚¿ãƒ³ã®éƒ¨åˆ†ï¼ˆHTMLï¼‰ã‚„ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã„ã‹æ•™ãˆã¦ã„ãŸã ã‘ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼Ÿ
ã‚³ãƒ¼ãƒ‰å…¨éƒ¨è²¼ã‚Œã¦ã¾ã™ã‹?æœ€å¾Œã®ãƒšãƒ¼ã‚¸ã§ã™ãŒ ãƒ»ãƒ•ã‚©ãƒ³ãƒˆãŒå°ã•ã„ã®ã§ç›´ã—ãŸã„ã€‚ ãƒ»LINEã«è¨ºæ–­çµæœã‚’é€ã‚‹ã€ã¨ã€ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹ã€ã®æ–‡å­—ãŒä¸‹ã«ã‚ˆã£ã¦ã„ã‚‹ã®ã§ä¸­å¤®é…ç½®ã—ãŸã„ã§ã™ã€‚
Lite
ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’ãŠé€ã‚Šã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚çŠ¶æ³ãŒã‚ˆãã‚ã‹ã‚Šã¾ã—ãŸã€‚
ã”æç¤ºã„ãŸã ã„ãŸã‚³ãƒ¼ãƒ‰ã¯ restartDiagnosis é–¢æ•°ã®3è¡Œã®ã¿ã§ã—ãŸã®ã§ã€HTMLã‚„CSSã®å…¨ä½“åƒã¯ã¾ã ç¢ºèªã§ãã¦ãŠã‚Šã¾ã›ã‚“ã€‚
ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‹ã‚‰åˆ¤æ–­ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ä¿®æ­£ãŒå¿…è¦ã ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ï¼š
ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã®èª¿æ•´: ã€Œè¨ºæ–­çµæœã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿã€ãªã©ã®ãƒ†ã‚­ã‚¹ãƒˆãŒéå¸¸ã«å°ã•ããªã£ã¦ã„ã‚‹ãŸã‚ã€CSSã§ font-size ã‚’å¤§ããã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ãƒœã‚¿ãƒ³å†…ã®ãƒ†ã‚­ã‚¹ãƒˆä¸­å¤®é…ç½®: ç·‘è‰²ã®ã€ŒLINEã«è¨ºæ–­çµæœã‚’é€ã‚‹ã€ãƒœã‚¿ãƒ³ã¨ã€æ°´è‰²ã®ã€Œã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã®æ–‡å­—ãŒä¸‹ã«å¯„ã£ã¦ã„ã‚‹ã®ã‚’ã€display: flex; ã‚„ align-items: center; ãªã©ã‚’ä½¿ã£ã¦ä¸Šä¸‹ä¸­å¤®ã«é…ç½®ã—ã¾ã™ã€‚
ä¿®æ­£ã®ãŸã‚ã«ã€ã“ã®ãƒšãƒ¼ã‚¸ã®HTMLã¨CSSã®ã‚³ãƒ¼ãƒ‰å…¨ä½“ã‚’ã“ã¡ã‚‰ã«è²¼ã‚Šä»˜ã‘ã¦ã„ãŸã ã‘ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼Ÿï¼ˆç‰¹ã«ãƒœã‚¿ãƒ³éƒ¨åˆ†ã® <button> ã‚„ <a> ã‚¿ã‚°ã€ãŠã‚ˆã³ãã‚Œã‚‰ã«é©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã®éƒ¨åˆ†ãŒé‡è¦ã§ã™ï¼‰
ã‚³ãƒ¼ãƒ‰ã‚’ã„ãŸã ã‘ã‚Œã°ã€ã™ãã«ä¿®æ­£ç‰ˆã‚’ä½œæˆã„ãŸã—ã¾ã™ã€‚
pasted_content.txt
ãƒ†ã‚­ã‚¹ãƒˆ Â· 32.61 KB
Lite
ã‚³ãƒ¼ãƒ‰ã‚’ã”æä¾›ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚HTMLã¨CSSã®å†…å®¹ã‚’ç¢ºèªã„ãŸã—ã¾ã—ãŸã€‚
ã”æŒ‡æ‘˜ã®é€šã‚Šã€è¨ºæ–­çµæœãƒšãƒ¼ã‚¸ï¼ˆresult-containerï¼‰å†…ã®ãƒ†ã‚­ã‚¹ãƒˆãŒå°ã•ãã€ãƒœã‚¿ãƒ³å†…ã®æ–‡å­—é…ç½®ã‚‚èª¿æ•´ãŒå¿…è¦ãªçŠ¶æ…‹ã§ã™ã€‚
ä»¥ä¸‹ã®æ‰‹é †ã§ä¿®æ­£ã‚’é€²ã‚ã¾ã™ï¼š
ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã®ä¿®æ­£: å°ã•ã™ãã‚‹ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã€Œè¨ºæ–­çµæœã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿã€ã‚„æ³¨é‡ˆãªã©ï¼‰ã®ã‚µã‚¤ã‚ºã‚’é©åˆ‡ã«å¤§ããã—ã¾ã™ã€‚
ãƒœã‚¿ãƒ³ã®ä¸­å¤®é…ç½®: ã€ŒLINEã«è¨ºæ–­çµæœã‚’é€ã‚‹ã€ã¨ã€Œã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã®æ–‡å­—ãŒä¸Šä¸‹ä¸­å¤®ã«æ¥ã‚‹ã‚ˆã†ã€CSSã® line-height ã‚„ display: flex ã‚’èª¿æ•´ã—ã¾ã™ã€‚
å…¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹èª¿æ•´: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã§è¦‹ã‚‰ã‚ŒãŸé…ç½®ã®ã‚ºãƒ¬ã‚’ä¿®æ­£ã—ã¾ã™ã€‚
ä¿®æ­£ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã®ã§ã€å°‘ã€…ãŠå¾…ã¡ãã ã•ã„ã€‚
ã‚³ãƒ¼ãƒ‰å…¨ä½“ã‚’ç¢ºèªã—ã€ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤§ããã—ã€ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸­å¤®é…ç½®ã«ä¿®æ­£ã™ã‚‹æ–¹é‡ã‚’ç«‹ã¦ã¾ã—ãŸã€‚æ¬¡ã«ä¿®æ­£æ¡ˆã‚’ä½œæˆã—ã¾ã™ã€‚

ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªã—ã€ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã¨ãƒœã‚¿ãƒ³ã®ä¸­å¤®é…ç½®ã‚’ä¿®æ­£ã™ã‚‹æ–¹é‡ã‚’ç«‹ã¦ã¾ã—ãŸã€‚æ¬¡ã¯è©²å½“ç®‡æ‰€ã‚’å…·ä½“çš„ã«èª¿æ•´ã—ã¾ã™ã€‚

ãƒœã‚¿ãƒ³ã®ä¸­å¤®é…ç½®ã¨ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã¯CSSã®`.btn, .btn-line, .btn-secondary, .btn-restart`ã§èª¿æ•´æ¸ˆã¿ã€‚æ¬¡ã¯å…·ä½“çš„ãªä¿®æ­£å†…å®¹ã‚’é©ç”¨ã—ã¾ã™ã€‚

æ—¢ã«ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã¨ä¸­å¤®é…ç½®ã®ä¿®æ­£å†…å®¹ã‚’ç¢ºèªæ¸ˆã¿ã€‚æ¬¡ã¯ãã®ä¿®æ­£ã‚’ã‚³ãƒ¼ãƒ‰ã«é©ç”¨ã—ã€æä¾›ã™ã‚‹äºˆå®šã§ã™ã€‚

Lite
ãŠå¾…ãŸã›ã„ãŸã—ã¾ã—ãŸã€‚ã”æŒ‡æ‘˜ã„ãŸã ã„ãŸç®‡æ‰€ã®ä¿®æ­£ãŒå®Œäº†ã—ã¾ã—ãŸã€‚
ä¿®æ­£å†…å®¹ã®ãƒã‚¤ãƒ³ãƒˆ
ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã®èª¿æ•´
è¨ºæ–­çµæœãƒšãƒ¼ã‚¸ï¼ˆCTAãƒ–ãƒ­ãƒƒã‚¯ï¼‰å†…ã®ã€Œè¨ºæ–­çµæœã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿã€ã‚„èª¬æ˜æ–‡ã€ç®‡æ¡æ›¸ãã®ãƒ†ã‚­ã‚¹ãƒˆã‚µã‚¤ã‚ºã‚’å¤§å¹…ã«å¤§ããã—ã€èª­ã¿ã‚„ã™ãèª¿æ•´ã—ã¾ã—ãŸã€‚
clamp é–¢æ•°ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€ã‚¹ãƒãƒ›ã§ã‚‚PCã§ã‚‚é©åˆ‡ãªã‚µã‚¤ã‚ºã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚
ãƒœã‚¿ãƒ³å†…ã®ãƒ†ã‚­ã‚¹ãƒˆä¸­å¤®é…ç½®
ã€ŒLINEã«è¨ºæ–­çµæœã‚’é€ã‚‹ã€ãŠã‚ˆã³ã€Œã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã« display: flex;, align-items: center;, justify-content: center; ã‚’é©ç”¨ã—ã€æ–‡å­—ãŒä¸Šä¸‹å·¦å³ã®ã©çœŸã‚“ä¸­ã«é…ç½®ã•ã‚Œã‚‹ã‚ˆã†ä¿®æ­£ã—ã¾ã—ãŸã€‚
ãƒœã‚¿ãƒ³ã®é«˜ã•ï¼ˆpaddingï¼‰ã‚‚èª¿æ•´ã—ã€ã‚¿ãƒƒãƒ—ã—ã‚„ã™ã„ã‚µã‚¤ã‚ºã«ã—ã¦ã„ã¾ã™ã€‚
ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ•´ç†
HTMLæ§‹é€ ã‚’æ•´ç†ã—ã€CSSã®ã‚¯ãƒ©ã‚¹åï¼ˆ.cta-blockï¼‰ã‚’æ˜ç¢ºã«å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ã‚¹ã‚¿ã‚¤ãƒ«ãŒç¢ºå®Ÿã«é©ç”¨ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
ã€Œã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã®é…ç½®ã‚‚ã€ä»–ã®è¦ç´ ã¨ã®ãƒãƒ©ãƒ³ã‚¹ã‚’è€ƒãˆã¦èª¿æ•´ã—ã¦ã„ã¾ã™ã€‚
æ·»ä»˜ã® fixed_content.txt ã«ä¿®æ­£å¾Œã®å…¨ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¼‰ã—ã¦ãŠã‚Šã¾ã™ã€‚ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã¨å·®ã—æ›¿ãˆã¦ã”ç¢ºèªãã ã•ã„ã€‚
ã‚‚ã—ã€ã•ã‚‰ã«å¾®èª¿æ•´ãŒå¿…è¦ãªç®‡æ‰€ï¼ˆã€Œã‚‚ã†å°‘ã—å¤§ããã—ãŸã„ã€ã€Œè‰²ã‚’å¤‰ãˆãŸã„ã€ãªã©ï¼‰ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠç”³ã—ä»˜ã‘ãã ã•ã„ã€‚
fixed_content.txt
ãƒ†ã‚­ã‚¹ãƒˆ Â· 29.43 KB

ã“ã®ã‚¿ã‚¹ã‚¯å†…ã®ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤º
ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã—ã¾ã—ãŸ
ã“ã®çµæœã¯ã©ã†ã§ã—ãŸã‹ï¼Ÿ
ãŠã™ã™ã‚ã®è¿½è·¡è³ªå•
Manus ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹
Gmail

fixed_content.txt
<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ãƒã‚¹ãƒ«ãƒ¼ãƒ ãƒ»ã‚»ãƒ«ãƒ•è¨ºæ–­</title>
  <style>
    :root{
      --fs-title: clamp(40px, 7.2vw, 92px);
      --fs-subtitle: clamp(18px, 3.2vw, 44px);
      --fs-start-desc: clamp(18px, 3.2vw, 40px);
      --fs-btn: clamp(22px, 4.2vw, 56px);

      --fs-q: clamp(22px, 4.4vw, 62px);
      --fs-opt: clamp(18px, 3.6vw, 48px);
      --fs-chip: clamp(14px, 2.8vw, 34px);

      --fs-result-title: clamp(22px, 4.2vw, 54px);
      --fs-result-product: clamp(26px, 5.0vw, 68px);
      --fs-result-desc: clamp(18px, 3.6vw, 46px);

      /* ===== Color System (Muted / Elegant) ===== */
      --bg1: #EAF4FB;      /* background: soft blue */
      --bg2: #F7EAF3;      /* background: soft pink */
      --paper: #EEF6FB;    /* panels: soft blue-gray */
      --paper2:#FFFFFF;    /* cards */

      --ink: #2F3A40;      /* primary text */
      --ink-soft:#60727C;  /* secondary text */

      --accent:#BEE7E8;    /* main accent */
      --accent2:#A9D7E6;   /* accent 2 */
      --accent-strong:#0C56A3; /* for result headings */

      --card:#FFFFFF;
      --line:#E6EDF5;
      --shadow: 0 18px 50px rgba(0,0,0,.14);
      --shadow2: 0 10px 26px rgba(0,0,0,.10);
      --radius: 24px;
    }

    html, body { height:100%; width:100%; }
    *{ box-sizing:border-box; }

    body{
      margin:0; padding:0;
      font-family: "Noto Sans JP", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(900px 600px at 25% 15%, rgba(255,255,255,.65), transparent 60%),
        radial-gradient(1000px 700px at 85% 25%, rgba(255,255,255,.55), transparent 62%),
        linear-gradient(135deg, var(--bg1) 0%, #f3fbff 35%, #fff8fd 60%, var(--bg2) 100%);
      color: var(--ink);
      overflow-x:hidden;
    }

    .app-container{
      width:100%;
      min-height:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      padding: 18px;
    }

    .content-wrapper{
      width:100%;
      max-width:1080px;
      background: rgba(255,255,255,.72);
      border: 1px solid rgba(230,237,245,.85);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 28px 18px 34px;
      margin: 14px 0;
      backdrop-filter: blur(6px);
    }

    .header{
      text-align:center;
      margin-bottom: 18px;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 10px;
    }

    .title{
      font-size: var(--fs-title);
      font-weight: 900;
      line-height: 1.08;
      color: var(--ink);
      padding: 22px 34px;
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(238,246,251,.95));
      box-shadow: var(--shadow2);
      text-shadow: 0 2px 0 rgba(255,255,255,.85);
      display:inline-block;
      letter-spacing: .02em;
      text-align:center;
      width: min(92%, 900px);
      border: 1px solid rgba(230,237,245,.8);
    }

    .subtitle{
      font-size: var(--fs-subtitle);
      color: var(--ink-soft);
      margin: 0;
      opacity: .95;
      line-height: 1.35;
      text-align:center;
      width: min(92%, 900px);
    }

    #resultScreen .header .subtitle{ display:none; }

    .start-screen{
      text-align:center;
      padding: 10px 10px 4px;
      background: linear-gradient(180deg, rgba(238,246,251,.95), rgba(238,246,251,.78));
      border: 1px solid rgba(230,237,245,.95);
      border-radius: 22px;
      box-shadow: 0 10px 24px rgba(0,0,0,.08);
    }

    #questionScreen{
      background: linear-gradient(180deg, rgba(238,246,251,.95), rgba(238,246,251,.78));
      border: 1px solid rgba(230,237,245,.95);
      border-radius: 22px;
      box-shadow: 0 10px 24px rgba(0,0,0,.08);
      padding: 10px 10px 4px;
    }

    .start-icon{
      font-size: clamp(56px, 8vw, 96px);
      margin: 14px 0 12px;
      animation: floaty 2.3s ease-in-out infinite;
    }

    @keyframes floaty{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-10px); }
    }

    .start-description{
      font-size: var(--fs-start-desc);
      color: var(--ink-soft);
      margin: 0 0 18px;
      line-height: 1.55;
      padding: 0 10px;
    }

    /* Main button (Start / Next) */
    .btn{
      background: linear-gradient(135deg, rgba(190,231,232,.98) 0%, rgba(169,215,230,.98) 100%);
      color: var(--ink);
      border: 1px solid rgba(169,215,230,.55);
      padding: 18px 28px;
      font-size: var(--fs-btn);
      font-weight: 900;
      border-radius: 18px;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
      box-shadow: 0 10px 26px rgba(169,215,230,.22);
      width: 100%;
      max-width: 520px;
      white-space: pre-line;
      line-height: 1.15;
      letter-spacing: .02em;
      margin: 0 auto 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    .btn:hover{
      transform: translateY(-2px);
      filter: brightness(1.02);
      box-shadow: 0 14px 32px rgba(169,215,230,.28);
    }
    .btn:active{ transform: translateY(0); }
    .btn:disabled{ opacity:.55; cursor:not-allowed; }

    .progress-bar{
      width:100%;
      height: 12px;
      background: rgba(230,237,245,.95);
      border-radius: 999px;
      overflow:hidden;
      margin: 6px 0 18px;
      border: 1px solid rgba(230,237,245,.95);
    }
    .progress-fill{
      height: 100%;
      background: linear-gradient(90deg, rgba(190,231,232,.98) 0%, rgba(169,215,230,.98) 100%);
      transition: width .35s ease;
      border-radius: 999px;
    }

    .question-container{ margin-bottom: 12px; }

    .question-number{
      display:inline-block;
      background: linear-gradient(135deg, rgba(190,231,232,.85) 0%, rgba(169,215,230,.85) 100%);
      color: var(--ink);
      padding: 10px 18px;
      border-radius: 999px;
      font-size: var(--fs-chip);
      font-weight: 900;
      margin-bottom: 12px;
      letter-spacing: .03em;
      border: 1px solid rgba(169,215,230,.55);
    }

    .question-text{
      font-size: var(--fs-q);
      font-weight: 900;
      color: var(--ink);
      margin: 0 0 18px;
      line-height: 1.25;
      letter-spacing: .01em;
    }

    .options-grid{
      display:flex;
      flex-direction:column;
      gap: 14px;
      margin-bottom: 10px;
    }

    .option-card{
      background: rgba(255,255,255,.94);
      border: 2px solid rgba(230,237,245,.98);
      border-radius: 18px;
      padding: 18px 14px;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
      text-align:center;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      min-height: 110px;
      box-shadow: 0 6px 16px rgba(0,0,0,.06);
    }
    .option-card:hover{
      transform: translateY(-3px);
      border-color: rgba(169,215,230,.75);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
    }
    .option-card.selected{
      border-color: rgba(169,215,230,.95);
      background: linear-gradient(135deg, rgba(190,231,232,.22) 0%, rgba(169,215,230,.18) 100%);
      box-shadow: 0 10px 22px rgba(169,215,230,.16);
    }

    .option-icon{ font-size: clamp(34px, 6vw, 64px); margin-bottom: 8px; }
    .option-text{
      font-size: var(--fs-opt);
      font-weight: 800;
      color: var(--ink);
      line-height: 1.2;
      white-space: pre-line;
      text-align:center;
    }

    .navigation-buttons{
      display:flex;
      justify-content:space-between;
      gap: 12px;
      margin-top: 16px;
      align-items:stretch;
    }

    .btn-secondary{
      background: rgba(255,255,255,.92);
      color: var(--ink-soft);
      padding: 16px 16px;
      border: 2px solid rgba(230,237,245,.98);
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      transition: filter .2s ease, transform .2s ease;
      flex:1;
      white-space: nowrap;
      box-shadow: 0 10px 22px rgba(0,0,0,.05);
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    .btn-secondary:hover{ filter: brightness(.99); transform: translateY(-1px); }
    .btn-secondary:disabled{ opacity:.55; cursor:not-allowed; transform:none; }

    /* ===== Result ===== */
    .result-container{ text-align:center; }
    .result-icon{ font-size: clamp(56px, 8vw, 96px); margin-bottom: 14px; animation: pop .6s ease; }
    @keyframes pop{ 0%{transform:scale(0)} 70%{transform:scale(1.08)} 100%{transform:scale(1)} }

    .result-title{
      font-size: var(--fs-result-title);
      font-weight: 900;
      margin: 0 0 14px;
      color: var(--accent-strong);
      letter-spacing: .02em;
    }

    .result-loading{
      font-size: clamp(18px, 3.8vw, 44px);
      font-weight: 900;
      color: rgba(12, 86, 163, .95);
      margin: 34px 0;
      animation: pulse 1.4s ease-in-out infinite;
    }
    @keyframes pulse{ 0%,100%{opacity:1} 50%{opacity:.5} }

    .result-product{
      font-size: var(--fs-result-product);
      font-weight: 950;
      color: #0c56a3;
      -webkit-text-stroke: 2px rgba(255,255,255,.95);
      text-shadow:
        0 2px 0 rgba(255,255,255,.85),
        0 8px 20px rgba(0,0,0,.10);
      margin: 0 0 14px;
      opacity:0;
      animation: fadeUp .6s ease forwards;
    }
    @keyframes fadeUp{ from{opacity:0; transform: translateY(18px)} to{opacity:1; transform:none} }

    .result-images{
      display:flex;
      flex-direction:column;
      gap: 14px;
      align-items:center;
      opacity:0;
      animation: fadeUp .6s ease .2s forwards;
      margin-bottom: 18px;
    }
    .image-wrapper{
      width: 100%;
      max-width: 600px;
      border-radius: 18px;
      overflow:hidden;
      box-shadow: var(--shadow2);
      border: 1px solid rgba(230,237,245,.8);
    }
    .result-image{ width:100%; height:auto; display:block; }

    .result-description{
      font-size: var(--fs-result-desc);
      line-height: 1.6;
      color: var(--ink);
      background: rgba(255,255,255,.85);
      padding: 24px;
      border-radius: 18px;
      border: 1px solid rgba(230,237,245,.9);
      margin-bottom: 24px;
      text-align:left;
      opacity:0;
      animation: fadeUp .6s ease .4s forwards;
    }
    .result-description strong{ color: var(--accent-strong); font-weight: 900; }

    /* ===== CTA Block Styles ===== */
    .cta-block {
      margin-top: 32px;
      padding: 24px;
      background: rgba(255,255,255,0.9);
      border-radius: 20px;
      border: 1px solid var(--line);
      text-align: center;
    }
    .cta-block h3 {
      font-size: clamp(24px, 4.8vw, 56px);
      margin-bottom: 16px;
      color: var(--ink);
    }
    .cta-block p {
      font-size: clamp(18px, 3.8vw, 42px);
      line-height: 1.6;
      margin-bottom: 16px;
      color: var(--ink-soft);
    }
    .cta-block ul {
      text-align: left;
      display: inline-block;
      margin-bottom: 20px;
      padding-left: 24px;
    }
    .cta-block li {
      font-size: clamp(16px, 3.4vw, 38px);
      line-height: 1.5;
      margin-bottom: 8px;
      color: var(--ink-soft);
    }
    .cta-block .mini {
      font-size: clamp(14px, 3vw, 32px);
      color: var(--ink-soft);
      margin-top: 12px;
      opacity: 0.8;
    }

    /* Keep LINE button green for recognizability */
    .btn-line{
      background: linear-gradient(135deg, rgba(8,191,84,.95) 0%, rgba(8,191,84,.78) 100%);
      color: #fff;
      border: none;
      padding: 18px 20px;
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      width:100%;
      max-width: 520px;
      white-space: pre-line;
      box-shadow: 0 10px 26px rgba(8,191,84,.18);
      margin: 0 auto 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      line-height: 1.2;
    }
    .btn-line:hover{ filter: brightness(1.02); transform: translateY(-2px); }

    /* Restart button: match the main system */
    .btn-restart{
      background: linear-gradient(135deg, rgba(190,231,232,.98) 0%, rgba(169,215,230,.98) 100%);
      color: var(--ink);
      padding: 18px 20px;
      border: 1px solid rgba(169,215,230,.55);
      border-radius: 16px;
      font-size: var(--fs-btn);
      font-weight: 900;
      cursor:pointer;
      transition: transform .2s ease, box-shadow .2s ease;
      box-shadow: 0 10px 26px rgba(169,215,230,.22);
      width:100%;
      max-width: 520px;
      margin: 24px auto 0;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      line-height: 1.2;
      white-space: pre-line;
    }
    .btn-restart:hover{ transform: translateY(-2px); box-shadow: 0 14px 32px rgba(169,215,230,.28); }

    /* Specific fix for secondary button in CTA */
    .cta-block .btn-secondary {
      width: 100%;
      max-width: 520px;
      margin: 0 auto 12px;
      padding: 18px 20px;
      font-size: clamp(18px, 3.6vw, 44px);
    }

  </style>
</head>

<body>
  <div class="app-container">
    <div class="content-wrapper">
      <header class="header">
        <h1 class="title" id="mainTitle">ãƒã‚¹ãƒ«ãƒ¼ãƒ ãƒ»ã‚»ãƒ«ãƒ•è¨ºæ–­</h1>
        <p class="subtitle">ã‚ãªãŸã«ã´ã£ãŸã‚Šã®1å°ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†</p>
      </header>

      <section id="startScreen" class="start-screen">
        <div class="start-icon">ğŸ›</div>
        <p class="start-description">
          ç°¡å˜ãªè³ªå•ã«ç­”ãˆã‚‹ã ã‘ã§ã€<br>
          ç†æƒ³ã®ãƒã‚¹ãƒ«ãƒ¼ãƒ ã‚’ã”ææ¡ˆã—ã¾ã™ã€‚
        </p>
        <button class="btn" id="startButton" onclick="startDiagnosis()">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
      </section>

      <section id="questionScreen" style="display:none;">
        <div class="progress-bar">
          <div id="progressFill" class="progress-fill" style="width:0%"></div>
        </div>
        <div class="question-container">
          <span id="questionNumber" class="question-number">è³ªå• 1/8</span>
          <h2 id="questionText" class="question-text">è³ªå•å†…å®¹ãŒã“ã“ã«å…¥ã‚Šã¾ã™</h2>
          <div id="optionsContainer" class="options-grid">
            <!-- Options will be injected here -->
          </div>
        </div>
        <nav class="navigation-buttons">
          <button id="backButton" class="btn-secondary" onclick="goBack()" disabled>æˆ»ã‚‹</button>
          <button id="nextButton" class="btn-secondary" onclick="goNext()" disabled>æ¬¡ã¸</button>
        </nav>
      </section>

      <section id="resultScreen" style="display:none;">
        <div class="result-container">
          <div class="result-icon">ğŸ‰</div>
          <h2 class="result-title">è¨ºæ–­çµæœ</h2>

          <div id="resultLoading" class="result-loading">ã‚ãªãŸã®è¨ºæ–­çµæœã¯ãƒ»ãƒ»ãƒ»ï¼Ÿ</div>

          <div id="resultContent" style="display:none;">
            <div class="result-product" id="resultProduct"></div>

            <div class="result-images">
              <div class="image-wrapper">
                <img id="resultImageMain" class="result-image" alt="ãŠã™ã™ã‚è£½å“ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰"
                     onerror="this.src=''; this.alt='ç”»åƒã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ'; this.style.display='none';" />
              </div>
              <div class="image-wrapper">
                <img id="resultImageSub" class="result-image" alt="ãŠã™ã™ã‚è£½å“ï¼ˆã‚µãƒ–ï¼‰"
                     onerror="this.src=''; this.alt='ç”»åƒã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ'; this.style.display='none';" />
              </div>
            </div>

            <div class="result-description" id="resultDescription"></div>

            <!-- CTA Block -->
            <div class="cta-block">
              <h3>è¨ºæ–­çµæœã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼ŸğŸ˜Š</h3>
              <p>
                ã“ã®ç”»é¢ã‚’ã‚¹ã‚¯ã‚·ãƒ§ã—ã¦ã€å…¬å¼LINEã«é€ã£ã¦ãã ã•ã„ã€‚<br>
                ã‚ãªãŸã®è¨ºæ–­çµæœã‚’ã‚‚ã¨ã«ã€
                <strong>ã€Œã‚ãªãŸã«åˆã£ãŸæ°´å»»ã‚Šé¸ã³ã®ãƒã‚¤ãƒ³ãƒˆã€</strong>ã‚’
                ç„¡æ–™ã§ãŠä¼ãˆã—ã¾ã™âœ¨
              </p>
              <ul>
                <li>ãƒã‚¹ãƒ«ãƒ¼ãƒ ã ã‘ï¼ã‚­ãƒƒãƒãƒ³ã ã‘ï¼ä¸¡æ–¹ã§ã‚‚OKã§ã™</li>
                <li>ã‚¹ã‚¯ã‚·ãƒ§1æšã§å¤§ä¸ˆå¤«ã§ã™</li>
              </ul>

              <button class="btn-line" type="button" onclick="openLineWithMessage()">
                LINEã«è¨ºæ–­çµæœã‚’é€ã‚‹
              </button>

              <button class="btn-secondary" type="button" onclick="copyLineMessage()">
                é€ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒ”ãƒ¼
              </button>

              <div class="mini">
                â€»LINEãŒé–‹ã„ãŸã‚‰ã€ã‚¹ã‚¯ã‚·ãƒ§ã‚’è²¼ã‚Šä»˜ã‘ã¦é€ã£ã¦ãã ã•ã„ğŸ˜Š
              </div>
            </div>
            
            <button class="btn-restart" type="button" onclick="restartDiagnosis()">
              ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹
            </button>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script>
  const questions = [
    {
      id: 1,
      text: "ç¾åœ¨ã®ãŠé¢¨å‘‚ã§ä¸€ç•ªã€Œä¸æº€ã€ã«æ„Ÿã˜ã¦ã„ã‚‹ã“ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿã€1ã¤ã€‘",
      options: [
        { icon: "â„ï¸", text: "å†¬å ´ãŒå¯’ãã¦\nã¤ã‚‰ã„", value: "cold" },
        { icon: "ğŸ§¼", text: "æƒé™¤ãŒå¤§å¤‰ã€\nã‚«ãƒ“ãŒæ°—ã«ãªã‚‹", value: "cleaning" },
        { icon: "ğŸšï¸", text: "è¨­å‚™ãŒå¤ãã¦\nä½¿ã„ã«ãã„", value: "old" },
        { icon: "ğŸ›", text: "æµ´æ§½ãŒç‹­ãã¦\nãƒªãƒ©ãƒƒã‚¯ã‚¹ã§ããªã„", value: "narrow" }
      ]
    },
    {
      id: 2,
      text: "ãŠé¢¨å‘‚ã«å…¥ã‚‹ã¨ãã€ä½•ã‚’ä¸€ç•ªå¤§åˆ‡ã«ã—ãŸã„ã§ã™ã‹ï¼Ÿã€1ã¤ã€‘",
      options: [
        { icon: "ğŸ§˜", text: "ä¸€æ—¥ã®ç–²ã‚Œã‚’ç™’ã™\nãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚¿ã‚¤ãƒ ", value: "relax_deep" },
        { icon: "âš¡", text: "ã‚µãƒƒã¨æ¸ˆã¾ã›ã¦\nåŠ¹ç‡ã‚ˆãå‹•ããŸã„", value: "efficiency" },
        { icon: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦", text: "å®¶æ—ã¨ã®\nã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³", value: "family" },
        { icon: "ğŸš¿", text: "è‡ªåˆ†ã ã‘ã®\nã“ã ã‚ã‚Šç©ºé–“", value: "personal_relax" }
      ]
    },
    {
      id: 3,
      text: "ãŠæƒé™¤ã‚’ã€Œãƒ©ã‚¯ã€ã«ã™ã‚‹æ©Ÿèƒ½ã€ã©ã‚Œãã‚‰ã„èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿã€1ã¤ã€‘",
      options: [
        { icon: "âœ¨", text: "çµ¶å¯¾ã«æ¬²ã—ã„ï¼\nè‡ªå‹•æ´—æµ„ãªã©ã‚‚æ¤œè¨", value: "auto_clean_interest" },
        { icon: "ğŸ§¹", text: "ã‚ã‚‹ç¨‹åº¦ãƒ©ã‚¯ã«\nãªã‚Œã°å¬‰ã—ã„", value: "easy_clean_priority" },
        { icon: "ğŸ’ª", text: "è‡ªåˆ†ã§ã—ã£ã‹ã‚Š\næƒé™¤ã—ãŸã„", value: "manual_clean" }
      ]
    },
    {
      id: 4,
      text: "ãŠé¢¨å‘‚ã®ã€Œæ¸©ã‹ã•ï¼ˆæ–­ç†±ï¼‰ã€ã«ã¤ã„ã¦ã€ã©ã†æ€ã„ã¾ã™ã‹ï¼Ÿã€1ã¤ã€‘",
      options: [
        { icon: "ğŸ”¥", text: "ã¨ã«ã‹ãæ¸©ã‹ã•é‡è¦–ï¼\nå†·ã‚ã«ãã„æµ´æ§½ã‚‚å¿…é ˆ", value: "insulation" },
        { icon: "ğŸŒ¡ï¸", text: "æ¨™æº–çš„ãªæ¸©ã‹ã•ãŒ\nã‚ã‚Œã°ååˆ†", value: "standard_warm" },
        { icon: "ğŸ’¸", text: "æ¸©ã‹ã•ã‚ˆã‚Š\nã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆãŸã„", value: "heat_cost" }
      ]
    },
    {
      id: 5,
      text: "ç¯€æ°´ã‚„ç¯€é›»ãªã©ã®ã€Œã‚¨ã‚³æ©Ÿèƒ½ã€ã¯é‡è¦–ã—ã¾ã™ã‹ï¼Ÿã€1ã¤ã€‘",
      options: [
        { icon: "ğŸ’°", text: "æ¯æœˆã®ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆã¯\nã§ãã‚‹ã ã‘æŠ‘ãˆãŸã„", value: "cost_priority" },
        { icon: "âš–ï¸", text: "æ°—ã«ãªã‚‹ãŒ\nå¿«é©ã•ã‚’å„ªå…ˆã—ãŸã„", value: "comfort_priority" },
        { icon: "ğŸŒŸ", text: "ã‚ã¾ã‚Šæ„è­˜ã—ã¦ã„ãªã„", value: "not_concerned" }
      ]
    },
    {
      id: 6,
      text: "ãŠé¢¨å‘‚ã®ã€Œç©ºé–“ã€ã§ä¸€ç•ªè¿‘ã„ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿã€1ã¤ã€‘",
      options: [
        { icon: "ğŸ¨", text: "ãƒ›ãƒ†ãƒ«ãƒ©ã‚¤ã‚¯ã§\né«˜ç´šæ„Ÿã®ã‚ã‚‹ç©ºé–“", value: "luxury_hotel" },
        { icon: "âœ¨", text: "æ˜ã‚‹ãæ¸…æ½”æ„Ÿã®\nã‚ã‚‹ç©ºé–“", value: "bright_clean" },
        { icon: "ğŸŒ³", text: "æœ¨ã®ã¬ãã‚‚ã‚Šã‚’\næ„Ÿã˜ã‚‹ç©ºé–“", value: "natural_wood" },
        { icon: "ğŸ¯", text: "é¡ã‚„ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’æ¸›ã‚‰ã—ãŸ\nã‚¹ãƒƒã‚­ãƒªç©ºé–“", value: "minimalist" }
      ]
    },
    {
      id: 7,
      text: "ç›´æ„Ÿã§ã€Œå¥½ãã€ãªãŠé¢¨å‘‚ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ã€1ã¤ã€‘é¸ã‚“ã§ãã ã•ã„",
      options: [
        { icon: "ğŸ’", text: "æ˜ã‚‹ãä¸Šå“ãª\nã‚¹ãƒˆãƒ¼ãƒ³èª¿", value: "stone" },
        { icon: "ğŸŒ²", text: "æœ¨ã®ã¬ãã‚‚ã‚Š\nãƒŠãƒãƒ¥ãƒ©ãƒ«ã‚¦ãƒƒãƒ‰èª¿", value: "natural_wood_style" },
        { icon: "ğŸ–¤", text: "è½ã¡ç€ã„ãŸ\nãƒ–ãƒ©ãƒƒã‚¯ã‚·ãƒƒã‚¯èª¿", value: "black_chic" }
      ]
    },
    {
      id: 8,
      text: "æ–°ã—ã„ãŠé¢¨å‘‚ã«ã“ã‚Œã ã‘ã¯è­²ã‚Œãªã„ã€ã¨æ€ã†ã‚‚ã®ã‚’ã€2ã¤ã¾ã§ã€‘é¸ã‚“ã§ãã ã•ã„",
      maxSelections: 2,
      options: [
        { icon: "ğŸ”¥", text: "å¯’ã•ã‹ã‚‰\nè§£æ”¾ã•ã‚ŒãŸã„", value: "warm" },
        { icon: "âœ¨", text: "æƒé™¤ã‹ã‚‰\nè§£æ”¾ã•ã‚ŒãŸã„", value: "easy_maintenance" },
        { icon: "ğŸ’°", text: "æ°´é“ãƒ»å…‰ç†±è²»ã‚’\næŠ‘ãˆãŸã„", value: "utility_save" },
        { icon: "ğŸ§˜", text: "ç™’ã—ã®ç©ºé–“ã«\nå¤‰ãˆãŸã„", value: "healing" },
        { icon: "ğŸ¨", text: "è¦‹ãŸç›®ã‚’\næ–°ã—ãã—ãŸã„", value: "aesthetic" },
        { icon: "ğŸ’­", text: "ãªã‚“ã¨ãªã\næ°—ã«ãªã£ã¦ã„ã‚‹", value: "curious" }
      ]
    }
  ];

  const productImages = {
    'ã‚µã‚¶ãƒŠ': { main: 'https://i.imgur.com/xdQVq0N.png', sub: 'https://i.imgur.com/quvtqCQ.png' },
    'ã‚·ãƒ³ãƒ©': { main: 'https://i.imgur.com/A2hRr0s.png', sub: 'https://i.imgur.com/JfPpbvJ.png' },
    'ãƒªãƒ‡ã‚¢': { main: 'https://i.imgur.com/ENM59T6.png', sub: 'https://i.imgur.com/LKbKQ3M.png' },
    'ã‚¹ãƒ‘ãƒ¼ã‚¸ãƒ¥': { main: 'https://i.imgur.com/PC1fALn.png', sub: '' },
    'ã‚°ãƒ©ãƒ³ã‚¹ãƒ‘': { main: 'https://i.imgur.com/Rjhtb77.png', sub: '' },
    'ãƒ©ã‚¯ãƒ´ã‚£ã‚¢': { main: 'https://i.imgur.com/JammMXT.png', sub: '' },
    'ã‚»ãƒ¬ãƒ´ã‚£ã‚¢': { main: 'https://i.imgur.com/gc6Qat0.png', sub: '' },
    'every': { main: 'https://i.imgur.com/UUR1X1j.png', sub: '' },
    'AXIY': { main: 'https://i.imgur.com/P6lkQtn.png', sub: '' }
  };

  let currentQuestion = 0;
  let answers = {};
  let selectedOption = null;
  let selectedOptions = [];

  function startDiagnosis(){
    document.getElementById('startScreen').style.display = 'none';
    document.getElementById('questionScreen').style.display = 'block';
    currentQuestion = 0;
    answers = {};
    selectedOption = null;
    selectedOptions = [];
    showQuestion();
  }

  function showQuestion(){
    const q = questions[currentQuestion];
    const progress = ((currentQuestion + 1) / questions.length) * 100;
    document.getElementById('progressFill').style.width = progress + '%';
    document.getElementById('questionNumber').textContent = `è³ªå• ${currentQuestion + 1}/${questions.length}`;
    document.getElementById('questionText').textContent = q.text;

    const optionsContainer = document.getElementById('optionsContainer');
    optionsContainer.innerHTML = '';

    const isMulti = q.maxSelections && q.maxSelections > 1;

    q.options.forEach((opt, idx) => {
      const card = document.createElement('div');
      card.className = 'option-card';
      card.innerHTML = `
        <div class="option-icon">${opt.icon}</div>
        <div class="option-text">${opt.text}</div>
      `;
      card.onclick = isMulti
        ? () => selectMultipleOptions(idx, opt.value, q.maxSelections)
        : () => selectOption(idx, opt.value);
      optionsContainer.appendChild(card);
    });

    if (isMulti){
      selectedOptions = answers[q.id] || [];
      const cards = document.querySelectorAll('.option-card');
      selectedOptions.forEach(v => {
        const i = q.options.findIndex(o => o.value === v);
        if (i !== -1) cards[i].classList.add('selected');
      });
    }else{
      selectedOption = answers[q.id] || null;
      if (selectedOption){
        const i = q.options.findIndex(o => o.value === selectedOption);
        if (i !== -1){
          const cards = document.querySelectorAll('.option-card');
          cards[i].classList.add('selected');
        }
      }
    }

    updateNavigationButtons();
  }

  function selectOption(index, value){
    const cards = document.querySelectorAll('.option-card');
    cards.forEach((c,i)=>c.classList.toggle('selected', i===index));
    selectedOption = value;
    answers[questions[currentQuestion].id] = value;
    updateNavigationButtons();
  }

  function selectMultipleOptions(index, value, maxSelections){
    const cards = document.querySelectorAll('.option-card');
    const card = cards[index];

    if (selectedOptions.includes(value)){
      selectedOptions = selectedOptions.filter(v => v !== value);
      card.classList.remove('selected');
    }else{
      if (selectedOptions.length < maxSelections){
        selectedOptions.push(value);
        card.classList.add('selected');
      }
    }
    answers[questions[currentQuestion].id] = selectedOptions;
    updateNavigationButtons();
  }

  function updateNavigationButtons(){
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;

    document.getElementById('backButton').disabled = currentQuestion === 0;
    document.getElementById('nextButton').disabled = isMulti ? (selectedOptions.length < 1) : (selectedOption === null);
  }

  function goBack(){
    if (currentQuestion <= 0) return;
    currentQuestion--;
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;
    if (isMulti) selectedOptions = answers[q.id] || [];
    else selectedOption = answers[q.id] || null;
    showQuestion();
  }

  function goNext(){
    const q = questions[currentQuestion];
    const isMulti = q.maxSelections && q.maxSelections > 1;
    const isAnswered = isMulti ? (selectedOptions.length > 0) : (selectedOption !== null);

    if (!isAnswered) return;

    if (currentQuestion < questions.length - 1){
      currentQuestion++;
      const nextQ = questions[currentQuestion];
      const nextIsMulti = nextQ.maxSelections && nextQ.maxSelections > 1;
      if (nextIsMulti) selectedOptions = answers[nextQ.id] || [];
      else selectedOption = answers[nextQ.id] || null;
      showQuestion();
    }else{
      document.getElementById('questionScreen').style.display = 'none';
      document.getElementById('resultScreen').style.display = 'block';
      calculateResult();
    }
  }

  function calculateResult(){
    document.getElementById('resultLoading').style.display = 'block';
    document.getElementById('resultContent').style.display = 'none';

    const allAnswers = Object.values(answers).flat();
    const counts = allAnswers.reduce((acc, val) => {
      acc[val] = (acc[val] || 0) + 1;
      return acc;
    }, {});

    let resultProduct = 'ã‚µã‚¶ãƒŠ';
    let resultDesc = 'ãŠå®¢æ§˜ã®å›ç­”ã‹ã‚‰ã€**ã‚µã‚¶ãƒŠ**ãŒæœ€ã‚‚é©ã—ã¦ã„ã‚‹ã¨è¨ºæ–­ã•ã‚Œã¾ã—ãŸã€‚ã‚µã‚¶ãƒŠã¯ã€å¿«é©ã¨ã‚¨ã‚³ã‚’ä¸¡ç«‹ã—ãŸæ©Ÿèƒ½ãŒå……å®Ÿã—ã¦ãŠã‚Šã€å¤šãã®æ–¹ã«ãŠã™ã™ã‚ã§ãã‚‹ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚';

    if (counts['relax_deep'] || counts['personal_relax'] || counts['luxury_hotel']){
      resultProduct = 'ã‚·ãƒ³ãƒ©';
      resultDesc = 'ãŠå®¢æ§˜ã¯ã€ãŠé¢¨å‘‚ã§ã®**ãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚¿ã‚¤ãƒ **ã‚’ç‰¹ã«é‡è¦–ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚**ã‚·ãƒ³ãƒ©**ã¯ã€ä¸Šè³ªãªãƒ‡ã‚¶ã‚¤ãƒ³ã¨ãƒªãƒ©ãƒƒã‚¯ã‚¹æ©Ÿèƒ½ã‚’å…¼ã­å‚™ãˆãŸæœ€é«˜ç´šãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚';
    } else if (counts['easy_clean'] || counts['easy_clean_priority'] || counts['auto_clean_interest']){
      resultProduct = 'ãƒªãƒ‡ã‚¢';
      resultDesc = 'ãŠå®¢æ§˜ã¯ã€**ãŠæ‰‹å…¥ã‚Œã®ã—ã‚„ã™ã•**ã‚’é‡è¦–ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚**ãƒªãƒ‡ã‚¢**ã¯ã€æ—¥ã€…ã®æƒé™¤ã‚’ãƒ©ã‚¯ã«ã™ã‚‹æ©Ÿèƒ½ãŒå……å®Ÿã—ãŸãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚';
    } else if (counts['warm'] || counts['insulation'] || counts['heat_cost']){
      resultProduct = 'ã‚¹ãƒ‘ãƒ¼ã‚¸ãƒ¥';
      resultDesc = 'ãŠå®¢æ§˜ã¯ã€**æ¸©ã‹ã•**ã¨**å¿«é©æ€§**ã‚’é‡è¦–ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚**ã‚¹ãƒ‘ãƒ¼ã‚¸ãƒ¥**ã¯ã€é«˜ã„æ–­ç†±æ€§èƒ½ã§å†¬ã§ã‚‚å¿«é©ãªãƒã‚¹ã‚¿ã‚¤ãƒ ã‚’å®Ÿç¾ã—ã¾ã™ã€‚';
    }

    setTimeout(() => {
      document.getElementById('resultLoading').style.display = 'none';
      document.getElementById('resultContent').style.display = 'block';
      document.getElementById('resultProduct').textContent = resultProduct;
      document.getElementById('resultDescription').innerHTML = resultDesc.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

      const images = productImages[resultProduct] || { main:'', sub:'' };
      const mainImg = document.getElementById('resultImageMain');
      const subImg = document.getElementById('resultImageSub');

      mainImg.src = images.main || '';
      mainImg.style.display = images.main ? 'block' : 'none';
      mainImg.alt = `${resultProduct} (ãƒ¡ã‚¤ãƒ³)`;

      subImg.src = images.sub || '';
      subImg.style.display = images.sub ? 'block' : 'none';
      subImg.alt = `${resultProduct} (ã‚µãƒ–)`;
    }, 1500);
  }

  function restartDiagnosis(){
    window.location.href = "select.html";
  }

  function openLineWithMessage() {
    const product = document.getElementById('resultProduct').textContent;
    const message = encodeURIComponent(`è¨ºæ–­çµæœï¼šãŠã™ã™ã‚ã¯ã€Œ${product}ã€ã§ã—ãŸï¼\nè©³ç´°ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚`);
    window.open(`https://line.me/R/oaMessage/@YOUR_LINE_ID/?${message}`, '_blank');
  }

  function copyLineMessage() {
    const product = document.getElementById('resultProduct').textContent;
    const text = `è¨ºæ–­çµæœï¼šãŠã™ã™ã‚ã¯ã€Œ${product}ã€ã§ã—ãŸï¼è©³ç´°ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚`;
    navigator.clipboard.writeText(text).then(() => {
      alert('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼LINEã«è²¼ã‚Šä»˜ã‘ã¦é€ã£ã¦ãã ã•ã„ã€‚');
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('startButton');
    if(btn) btn.textContent = "è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ";
  });

  </script>   
</body>
</html>
